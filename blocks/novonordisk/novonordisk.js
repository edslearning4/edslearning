const novContent = `<body class="appear page basicpage" id="page-bbf90fe1c3">












                                <script type="text/javascript">
                        var digitalData = digitalData || []
                        digitalData.push({
                            event: "",
                            data: {
                                pageInfo: {}
                            }
                        });
                    </script>
                    <div class="container top-margin">

                         <div id="pagesettings"><input type="hidden" name="currentPagePath" value="/content/nncorp/global/en"> <input type="hidden" name="currentLanguage" value="Novo Nordisk "> <input type="hidden" name="currentCountry" value="Global"> <input type="hidden" name="currentCountryPath" value="/content/nncorp/global"> <input type="hidden" name="searchPagePath" value="/content/nncorp/global/en/search"> <input type="hidden" name="countryListPath" value="/content/nncorp/global/en/location"> <input type="hidden" name="rootPagePath" value="/content/nncorp/global/en"> <input type="hidden" name="structureDepth" value="5"> <input type="hidden" name="navRootShiftDepth" value="0"> <input type="hidden" name="navigationColorInverted" value="true"> <input type="hidden" name="topMargin" value="true"> <input type="hidden" name="digitalDataAsJSON" value="{&quot;event&quot;:&quot;Page Load&quot;,&quot;data&quot;:{&quot;pageInfo&quot;:{&quot;pageName&quot;:&quot;homepage&quot;,&quot;siteSection&quot;:&quot;homepage&quot;,&quot;region&quot;:&quot;global-en&quot;,&quot;id&quot;:&quot;699c631f-0934-4fbb-b83a-d0d8ccdf1705&quot;,&quot;siteName&quot;:&quot;novo - global&quot;,&quot;pageType&quot;:&quot;homepage&quot;}}}"></div>



                                <header class="header experiencefragment" role="banner">
                    <div id="experiencefragment-b443ca1e56" class="cmp-experiencefragment cmp-experiencefragment--xf-header">





                    <div class="xf-content-height">
                        <div class="root responsivegrid">


                    <div class="aem-Grid aem-Grid--12 aem-Grid--default--12 ">

                        <div class="header aem-GridColumn aem-GridColumn--default--12"><div id="nncorp-header" class="nncorp-header">
                        <div>
                        <div id="headersettings"><input type="hidden" name="exitRampConfig" value="{&quot;exitRamp&quot;: &quot;false&quot;, &quot;exitRampMessage&quot;: &quot;&quot;, &quot;whitelistedURLs&quot;: &quot;&quot;, &quot;exitrampTitle&quot;: &quot;&quot;,&quot;openExitRampTarget&quot;: &quot;false&quot;}"> <input type="hidden" name="removeLanguageNavigation"></div>

                        <div class="tb-Grid tb-Grid--24 tb-Grid--l--24">
                            <div class="tb-GridColumn tb-GridColumn--l--14">
                                <div id="left-side-header" class="left-side header-item"><a href="/content/nncorp/global/en.html" aria-label="Novo Nordisk Global" class="logo-lnk"><span class="logo icon-logo-white m-m-right"></span></a> <div class="left-side-header-content"><div class="display-flex-center m-xxs-top"><div class="country-selector-wrapper"><a href="/content/nncorp/global/en/location.html" aria-label="You are at the Novo Nordisk Global site. Choose your location" tabindex="0" class="country-selector"><span class="icon icon-location-white"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span> <span class="text color-white">Novo Nordisk Global</span></a></div> <div class="nncorp-languagenavigation white"></div></div> <div class="nncorp-breadcrumbs white"><div></div></div></div></div>
                            </div>
                        </div>

                        <div class="right-side header-item">
                            <div class="nncorp-navigation white">


                    <link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/components/structure/navigation/clientlib.lc-f046a893b816f49de05849c84a640e22-lc.min.css" type="text/css">


                    <nav id="cmp-navigation" aria-hidden="true" aria-modal="true" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement" class="cmp-navigation tablet overflowed top"><div id="cmp-navigation__top-bar" class="top-bar navigation-display tabletView"><ul class="cmp-navigation__group main-navigation" aria-hidden="true"><li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Disease areas</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Science &amp; technology</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Partnering</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Sustainable business</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Careers</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">About us</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Our products</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="/search.html" role="link" aria-label="Search" class="cmp-navigation__item-link false" aria-hidden="true" tabindex="-1"><span class="icon icon-search"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span></a></li></ul></div> <div id="cmp-navigation__bottom-bar" class="bottom-bar navigation-display tabletView"><ul class="cmp-navigation__group utility-navigation" aria-hidden="true"><li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="/patients.html" role="link" class="cmp-navigation__item-link false" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Patients</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Investors</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">News &amp; media</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="/healthcare-professionals.html" role="link" class="cmp-navigation__item-link false" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Healthcare professionals</span></a></li> <li class="cmp-navigation__item cmp-navigation__item--level-0" aria-hidden="true"><a href="javascript:void(0)" class="cmp-navigation__item-link true" aria-hidden="true" tabindex="-1"><span class="text hyphenate">Contact us</span></a></li></ul></div> <!----> <div class="burger-float mobile"><button role="button" aria-label="Menu navigation" aria-expanded="false" class="button burger-button"><span aria-hidden="true" class="icon icon-burger-float-blue"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span></span></button></div></nav>





                    <script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/components/structure/navigation/clientlib.lc-c079832fe1bdd42713afdd84274478f8-lc.min.js" async=""></script>

                       </div>
                        </div>
                    </div>
                        <div id="modals" class="modals"><div id="overlay-navigation" aria-modal="true" class="overlay-navigation custom-scrollbar tablet overflowed close-overlay" style="display: none;"><div class="tb-Grid tb-Grid--24 tb-Grid--l--24"><div class="tb-GridColumn tb-GridColumn--l--22 tb-GridColumn--s--23 tb-GridColumn--offset--l--1 tb-GridColumn--offset--s--1"><div class="top-controls"><div class="left"><div aria-hidden="true" aria-label="Search button" class="search-button btn"><a role="link" aria-label="Search" tabindex="-1" href="https://www.novonordisk.com/search.html"><span class="icon icon-search-white"></span></a></div> <div aria-hidden="false" tabindex="" class="lang-selector-wrapper desktop"><div class="lang-selector"><a aria-label="Novo Nordisk " href="https://www.novonordisk.com/" class="lang-item active">Novo Nordisk </a></div></div></div> <div aria-hidden="true" tabindex="" class="lang-selector-wrapper mobile"><div class="lang-selector"><a aria-label="Novo Nordisk " href="https://www.novonordisk.com/" class="lang-item active">Novo Nordisk </a></div></div> <div class="right"><button aria-hidden="true" aria-label="Close" tabindex="-1" class="close-button btn"><span aria-hidden="true" class="icon icon-times-white"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span></button></div></div></div> <div class="tb-GridColumn tb-GridColumn--l--20 tb-GridColumn--m--16 tb-GridColumn--s--20 tb-GridColumn--offset--m--4 tb-GridColumn--offset--s--4 tb-GridColumn--offset--xs--2 gutters"><div class="sub-nav-list navigation"><span aria-hidden="true" class="tagline hyphenate"></span>  <div class="highlighted-nav-wrapper"><!----></div></div> <div class="full-nav"><ul role="menubar" class="main-nav"><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">Disease areas</span> <!----> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/type-1-diabetes.html" class="text lnk-text hyphenate">Type 1 diabetes</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/type-2-diabetes.html" class="text lnk-text hyphenate">Type 2 diabetes</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/obesity.html" class="text lnk-text hyphenate">Obesity</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/growth-disorders.html" class="text lnk-text hyphenate">Growth disorders</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/haemophilia.html" class="text lnk-text hyphenate">Haemophilia</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/sickle-cell-disease.html" class="text lnk-text hyphenate">Sickle Cell disease - What is it?</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/mash.html" class="text lnk-text hyphenate">MASH (also known as NASH)</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/cardiovascular-disease.html" class="text lnk-text hyphenate">Cardiovascular disease</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/alzheimers-disease.html" class="text lnk-text hyphenate">Alzheimer's disease</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/disease-areas/primary-hyperoxaluria.html" class="text lnk-text hyphenate">Primary Hyperoxaluria</a></li></ul></li><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">Science &amp; technology</span> <!----> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/science-and-technology/bioethics.html" class="text lnk-text hyphenate">Bioethics</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/science-and-technology/cell-therapy.html" class="text lnk-text hyphenate">Cell therapy</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/science-and-technology/research-technologies.html" class="text lnk-text hyphenate">Research technologies</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/science-and-technology/research-and-technology-centres.html" class="text lnk-text hyphenate">Research &amp; technology centres</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/science-and-technology/r-d-pipeline.html" class="text lnk-text hyphenate">R&amp;D pipeline</a></li></ul></li><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">Partnering</span> <!----> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/partnering-and-open-innovation/partnering-interests.html" class="text lnk-text hyphenate">Partnering interests</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/partnering-and-open-innovation/partnering-initiatives.html" class="text lnk-text hyphenate">Partnering initiatives</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/partnering-and-open-innovation/contact-us-about-partnering.html" class="text lnk-text hyphenate">Contact us about partnering</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/partnering-and-open-innovation/our-approach-to-partnering.html" class="text lnk-text hyphenate">Our approach to partnering</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/partnering-and-open-innovation/investigator-sponsored-studies.html" class="text lnk-text hyphenate">Investigator Sponsored Studies Programme</a></li></ul></li><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">Sustainable business</span> <!----> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/sustainable-business/our-sustainability-approach.html" class="text lnk-text hyphenate">Our sustainability approach</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/sustainable-business/zero-environmental-impact.html" class="text lnk-text hyphenate">Zero environmental impact</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/sustainable-business/access-and-affordability.html" class="text lnk-text hyphenate">Access &amp; affordability</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/sustainable-business/preventing-chronic-diseases.html" class="text lnk-text hyphenate">Preventing chronic diseases</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/sustainable-business/defeat-diabetes.html" class="text lnk-text hyphenate">Defeat diabetes</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/sustainable-business/diversity-and-inclusion.html" class="text lnk-text hyphenate">Diversity &amp; Inclusion</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/sustainable-business/health-and-safety.html" class="text lnk-text hyphenate">Health &amp; Safety</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/sustainable-business/preventing-childhood-overweight-and-obesity.html" class="text lnk-text hyphenate">Preventing childhood overweight &amp; obesity</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/sustainable-business/esg-portal.html" class="text lnk-text hyphenate">ESG Portal</a></li></ul></li><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">Careers</span> <!----> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/careers/find-a-job.html" class="text lnk-text hyphenate">Find a job</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/careers/job-agent.html" class="text lnk-text hyphenate">Job Alerts</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/careers/working-at-novo-nordisk.html" class="text lnk-text hyphenate">Working at Novo Nordisk</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/careers/early-career-programmes.html" class="text lnk-text hyphenate">Early Career</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/careers/career-areas.html" class="text lnk-text hyphenate">Career areas</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/careers/event-calendar-meet-us.html" class="text lnk-text hyphenate">Event calendar - meet us</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/careers/contact-us-by-topic.html" class="text lnk-text hyphenate">Careers contact us</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/careers/notice-on-recruitment-fraud.html" class="text lnk-text hyphenate">Notice on Recruitment Fraud</a></li></ul></li><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">About us</span> <!----> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/about/what-we-do.html" class="text lnk-text hyphenate">What we do</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/about/who-we-are.html" class="text lnk-text hyphenate">Who we are</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/about/our-heritage.html" class="text lnk-text hyphenate">Our heritage</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/about/our-scientific-approach.html" class="text lnk-text hyphenate">Our scientific approach</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/about/our-approach-to-sustainability.html" class="text lnk-text hyphenate">Our sustainability approach</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/about/corporate-governance.html" class="text lnk-text hyphenate">Corporate governance</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/about/executive-management.html" class="text lnk-text hyphenate">Executive Management</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/about/board-of-directors.html" class="text lnk-text hyphenate">Board of Directors</a></li></ul></li><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">Our products</span> <!----> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/our-products/pens-and-needles.html" class="text lnk-text hyphenate">Pens and needles</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/our-products/our-medicines.html" class="text lnk-text hyphenate">Our medicines</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/our-products/smart-pens.html" class="text lnk-text hyphenate">Smart Pens, Devices and Apps</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/our-products/instructions-for-use.html" class="text lnk-text hyphenate">Instructions for use</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/our-products/report-falsified-products.html" class="text lnk-text hyphenate">Report falsified products</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/our-products/falsified-medicines-position.html" class="text lnk-text hyphenate">Position on falsified medicines</a></li></ul></li><li class="nav-item"><a role="menuitem" href="https://www.novonordisk.com/patients.html" tabindex="0" class="text lnk-text hyphenate">Patients</a></li><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">Investors</span> <ul class="sub-nav featured-nav"><li class="sub-nav-item animate"><div class="highlighted-nav-wrapper"><a href="https://www.novonordisk.com/investors/extraordinary-general-meeting.html" aria-label="Highlighted feature Extraordinary General Meeting 2025" class="highlighted-nav right-arrow-animation"><div class="highlighted-container"><h4 class="h4"><b>Extraordinary General Meeting 2025</b></h4> <p class="infotext">Registration &amp; details</p> <div class="link-arrow"><span class="icon icon-right-arrow-white"></span></div></div></a></div></li></ul> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/investors/investor-highlights.html" class="text lnk-text hyphenate">Investor highlights</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/investors/financial-results.html" class="text lnk-text hyphenate">Financial results, events and calendar</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/investors/esg.html" class="text lnk-text hyphenate">ESG</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/investors/stock-information.html" class="text lnk-text hyphenate">Share information</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/investors/Investor-portal.html" class="text lnk-text hyphenate">Investor Portal</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/investors/bond-investors.html" class="text lnk-text hyphenate">Bond information</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/investors/news-and-ir-materials.html" class="text lnk-text hyphenate">Company announcements and press releases</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/investors/contact-investor-relations.html" class="text lnk-text hyphenate">Contact Investor Relations</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/investors/extraordinary-general-meeting.html" class="text lnk-text hyphenate">Extraordinary General Meeting</a></li></ul></li><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">News &amp; media</span> <!----> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/news-and-media/latest-news.html" class="text lnk-text hyphenate">Newsroom</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/news-and-media/news-and-ir-materials.html" class="text lnk-text hyphenate">Press releases</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/news-and-media/partnership-news.html" class="text lnk-text hyphenate">Partnership news</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/news-and-media/media-library.html" class="text lnk-text hyphenate">Media library</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/news-and-media/contact-news-and-media.html" class="text lnk-text hyphenate">Contact Media Relations</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/news-and-media/stay-informed.html" class="text lnk-text hyphenate">Subscribe to press releases</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/news-and-media/broadcast-room.html" class="text lnk-text hyphenate">Broadcast room</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/news-and-media/novo-nordisk-in-brief.html" class="text lnk-text hyphenate">Novo Nordisk in brief</a></li></ul></li><li class="nav-item"><a role="menuitem" href="https://www.novonordisk.com/healthcare-professionals.html" tabindex="0" class="text lnk-text hyphenate">Healthcare professionals</a></li><li class="nav-item"><span role="menuitem" tabindex="0" aria-expanded="false" class="text hyphenate">Contact us</span> <!----> <ul role="menu" class="sub-nav"><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/contact-us/contact-overview.html" class="text lnk-text hyphenate">Contact overview</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/contact-us/find-local-information.html" class="text lnk-text hyphenate">Find local information</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/contact-us/corporate-procurement.html" class="text lnk-text hyphenate">Corporate procurement</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/contact-us/external-support.html" class="text lnk-text hyphenate">Grants, donations, sponsorships &amp; non-commercial partnerships</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/contact-us/compliance-hotline.html" class="text lnk-text hyphenate">Report suspected misconduct</a></li><li class="sub-nav-item"><a role="menuitem" tabindex="-1" href="https://www.novonordisk.com/contact-us/report-a-security-vulnerability.html" class="text lnk-text hyphenate">Report a security vulnerability</a></li></ul></li></ul> <div class="country-selector-wrapper"><a href="/content/nncorp/global/en/location.html" aria-label="You are at the Novo Nordisk Global site. Choose your location" tabindex="0" class="country-selector"><span class="icon icon-location-white"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span> <span class="text color-white">Novo Nordisk Global</span></a></div></div></div></div> <button aria-hidden="true" tabindex="-1" aria-label="Close button" class="close-button desktop btn"><span aria-hidden="true" class="icon icon-times-white"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span></button></div> <div aria-hidden="true" class="disclaimer-d-wrapper"><div class="centerdialog-wrapper"><div class="dialog-title"><div class="tb-Grid tb-Grid--16 tb-Grid--l--16 tb-Grid--m--16 tb-Grid--s--20 tb-Grid--xs--24"><div class="tb-GridColumn tb-GridColumn--l--14 tb-GridColumn--m--14 tb-GridColumn--s--18 tb-GridColumn--xs--20 tb-GridColumn--offset--l--1 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--2"><h4 class="h4 color-white">Disclaimer statement</h4></div></div> <span class="icon icon-times-white"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span></div> <div class="dialog-content tb-Grid tb-Grid--16 tb-Grid--l--16 tb-Grid--m--16 tb-Grid--s--20 tb-Grid--xs--24"><div class="tb-GridColumn tb-GridColumn--l--14 tb-GridColumn--m--14 tb-GridColumn--s--18 tb-GridColumn--xs--20 tb-GridColumn--offset--l--1 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--2">

                                            </div></div> <div class="tb-Grid tb-Grid--16 tb-Grid--l--16 tb-Grid--m--16 tb-Grid--s--20 tb-Grid--xs--24"><div class="dialog-footer tb-GridColumn tb-GridColumn--l--14 tb-GridColumn--m--14 tb-GridColumn--s--18 tb-GridColumn--xs--20 tb-GridColumn--offset--l--1 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--2"><div class="dialog-footer-item"><div class="decline-wrapper m-m-right"><span class="text">I do not agree</span></div></div> <div class="dialog-footer-item"><button tabindex="-1" class="button button-link-animation"><span class="text">I agree</span> <span class="icon icon-right-arrow"></span></button></div></div></div></div></div> <div aria-hidden="true" class="confirm-d-wrapper"><div class="centerdialog-wrapper"><div class="dialog-title"><div class="tb-Grid tb-Grid--16 tb-Grid--l--16 tb-Grid--m--16 tb-Grid--s--20 tb-Grid--xs--24"><div class="tb-GridColumn tb-GridColumn--l--14 tb-GridColumn--m--14 tb-GridColumn--s--18 tb-GridColumn--xs--20 tb-GridColumn--offset--l--1 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--2"><h4 class="h4 color-white">Warning!</h4></div></div> <span class="icon icon-times-white"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span></div> <div class="dialog-content tb-Grid tb-Grid--16 tb-Grid--l--16 tb-Grid--m--16 tb-Grid--s--20 tb-Grid--xs--24"><div class="tb-GridColumn tb-GridColumn--l--14 tb-GridColumn--m--14 tb-GridColumn--s--18 tb-GridColumn--xs--20 tb-GridColumn--offset--l--1 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--2"></div></div> <div class="dialog-footer tb-Grid tb-Grid--16 tb-Grid--l--16 tb-Grid--m--16 tb-Grid--s--20 tb-Grid--xs--24"><div class="tb-GridColumn tb-GridColumn--l--14 tb-GridColumn--m--14 tb-GridColumn--s--18 tb-GridColumn--xs--20 tb-GridColumn--offset--l--1 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--2"><button tabindex="-1" class="button m-xxs-right"><span class="text">Ok</span></button> <button tabindex="-1" class="button"><span class="text">Cancel</span></button></div></div></div></div> <div class="rnddialog-wrapper"><div tabindex="-1" role="dialog" aria-label="Dialog for " class="centerdialog-wrapper"><div class="dialog-title"><div class="tb-Grid tb-Grid--16 tb-Grid--l--16 tb-Grid--m--16 tb-Grid--s--20 tb-Grid--xs--24"><div class="tb-GridColumn tb-GridColumn--l--14 tb-GridColumn--m--14 tb-GridColumn--s--18 tb-GridColumn--xs--20 tb-GridColumn--offset--l--1 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--2"><!----> <!----></div></div> <span role="button" tabindex="-1" aria-label="Close button " class="icon icon-times-white"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span></div> <div class="dialog-content tb-Grid tb-Grid--16 tb-Grid--l--16 tb-Grid--m--16 tb-Grid--s--20 tb-Grid--xs--24"><div class="tb-GridColumn tb-GridColumn--l--14 tb-GridColumn--m--14 tb-GridColumn--s--18 tb-GridColumn--xs--20 tb-GridColumn--offset--l--1 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--2 p-s-top"><div class="paragraph-l color-blue m-xs-bottom"></div></div> <div class="tb-GridColumn tb-GridColumn--l--14 tb-GridColumn--m--14 tb-GridColumn--s--18 tb-GridColumn--xs--20 tb-GridColumn--offset--l--1 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--2"><!----> <!----> <div class="display-flex-center m-xs-bottom"><div class="loading-indicator show blue"><div class="cir cir-1"></div> <div class="cir cir-2"></div> <div class="cir cir-3"></div></div></div> <div class="dialog-footer infotext color-blue"></div></div></div></div></div></div>

                    </div>
                    </div>


                    </div>
                    </div>

                    </div>
                    </div>


                    </header>







                                <main class="root responsivgrid" role="main">


                    <div class="aem-Grid aem-Grid--12 aem-Grid--default--12 ">

                        <div class="ghost aem-GridColumn aem-GridColumn--default--12">

                    </div>
                    <div class="herodeck image aem-GridColumn aem-GridColumn--default--12">


                    <link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/megatext.lc-410d76635443db78280c9201a3dfaa3a-lc.min.css" type="text/css"><link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/gradient-cover.lc-094b79e9edffe365bac8fe5c6a5249a6-lc.min.css" type="text/css"><link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/focuspoint-image.lc-6068dc105c5d342989cce8b2547f55f4-lc.min.css" type="text/css"><link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/herodeck/v2/herodeck/clientlib/clientlib-herodeck.lc-b0ee3d6796724965856ff41e0ab265cd-lc.min.css" type="text/css"><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/megatext.lc-8992459fbb186a9d1637e073494074ed-lc.min.js"></script><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/gradient-cover.lc-cc966df540d6516d8b8dd9196d81bdb8-lc.min.js"></script><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/focuspoint-image.lc-20d3e6ed3229f97cad3ca9125a5de52a-lc.min.js"></script><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/herodeck/v2/herodeck/clientlib/clientlib-herodeck.lc-927e7adec2abca70e76afe0acddec16c-lc.min.js" async=""></script>


                    <div class="herodeck-wrapper"><div><ol class="heroes-wrapper"><li id="hero-0" class="hero slides"><div class="slide-wrapper"><div class="asset"><div class="hero-image-container"><span><div class="focuspoint-image desktop focuspoint-container" style="background-image: url(&quot;https://www.novonordisk.com/content/dam/nncorp/global/en/front-page/images/udc/CT_DCRE_DK_MJ_3465.jpg.corpimgw.2000.2000.jpg&quot;); background-position: 50% 50%; background-size: cover;"></div> <!----> <!----> <!----></span></div></div> <div class="gradient-wrapper"><div class="gradient-cover" style=""><!----> <div class="gradient-item left-gradient-dynamic"></div> <div class="gradient-item right-gradient-dynamic"></div> <div class="gradient-item bottom-gradient-dynamic" style="height: 298px;"></div></div></div> <div id="slide-details-wrapper-0" class="slide-details-wrapper"><div class="details-wrapper gutters" style="opacity: 1;"><div class="tb-Grid details-info m-xxl-bottom"><div class="tb-Grid tb-Grid--24 tb-Grid--l--24 tb-Grid--m--24 tb-Grid--s--24 tb-Grid--xs--24 m-xxs-bottom"><div class="tb-GridColumn tb-GridColumn--l--12 tb-GridColumn--m--12 tb-GridColumn--s--12 tb-GridColumn--xs--16 tb-GridColumn--offset--l--0 tb-GridColumn--offset--m--2 tb-GridColumn--offset--s--2 tb-GridColumn--offset--xs--2"><div class="details-title"><h1 class="h2">ObesityWeek<sup>®</sup> 2025 – Atlanta, US</h1></div> <div><p class="richtext">We're presenting data showing the strong momentum of our obesity portfolio and our dedication to long-term health for people living with obesity.</p></div></div></div> <div class="tb-Grid tb-Grid--24 tb-Grid--l--24 tb-Grid--m--24 tb-Grid--s--24 tb-Grid--xs--24"><div class="tb-GridColumn tb-GridColumn--m--20 tb-GridColumn--offset--l--0 tb-GridColumn--offset--m--2 tb-GridColumn--offset--s--2 tb-GridColumn--offset--xs--2"><div class="details-button"><a href="/news-and-media/news-and-ir-materials.html" target="_self" role="link"><button tabindex="-1" class="button desktop-button m-s-top button-link-animation "><span class="text">See how we are redefining obesity care</span> <span class="icon icon-right-arrow"></span></button></a></div></div></div></div></div></div></div></li> <li id="hero-1" class="hero slides"><div class="slide-wrapper"><div class="asset"><div class="hero-image-container"><span><div class="focuspoint-image desktop focuspoint-container" style="background-image: url(&quot;https://www.novonordisk.com/content/dam/nncorp/global/en/front-page/images/driving-change/deloris-anda-nielsen-obesity-denmark-1.jpg.corpimgw.2000.2000.jpg&quot;); background-position: 25% 50%; background-size: cover;"></div> <!----> <!----> <!----></span></div></div> <div class="gradient-wrapper"><div class="gradient-cover" style=""><!----> <div class="gradient-item left-gradient-dynamic"></div> <div class="gradient-item right-gradient-dynamic"></div> <div class="gradient-item bottom-gradient-dynamic" style="height: 298px;"></div></div></div> <div id="slide-details-wrapper-1" class="slide-details-wrapper"><div class="details-wrapper gutters" style="opacity: 0;"><div class="tb-Grid details-info m-xxl-bottom"><div class="tb-Grid tb-Grid--24 tb-Grid--l--24 tb-Grid--m--24 tb-Grid--s--24 tb-Grid--xs--24 m-xxs-bottom"><div class="tb-GridColumn tb-GridColumn--l--12 tb-GridColumn--m--12 tb-GridColumn--s--12 tb-GridColumn--xs--16 tb-GridColumn--offset--l--0 tb-GridColumn--offset--m--2 tb-GridColumn--offset--s--2 tb-GridColumn--offset--xs--2"><div class="details-title"><h1 class="h2">To defeat obesity, we think outside the box... and inside the gut</h1></div> <div><p class="richtext"></p></div></div></div> <div class="tb-Grid tb-Grid--24 tb-Grid--l--24 tb-Grid--m--24 tb-Grid--s--24 tb-Grid--xs--24"><div class="tb-GridColumn tb-GridColumn--m--20 tb-GridColumn--offset--l--0 tb-GridColumn--offset--m--2 tb-GridColumn--offset--s--2 tb-GridColumn--offset--xs--2"><div class="details-button"><a href="/disease-areas/obesity.html" target="_self" role="link"><button tabindex="-1" class="button desktop-button m-s-top button-link-animation "><span class="text">See how we are redefining obesity care</span> <span class="icon icon-right-arrow"></span></button></a></div></div></div></div></div></div></div></li></ol></div></div>



                    </div>
                    <div class="calltoaction aem-GridColumn aem-GridColumn--default--12">


                    <link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/calltoaction/clientlibs.lc-ebe7c7e29fe7c41f69d1f2aa03d28ccf-lc.min.css" type="text/css">
                    <script src="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/calltoaction/clientlibs.lc-78e2dd42584a0e624dc4d773e4de99cc-lc.min.js"></script>



                        <div class="cta-container"><div class="gutters tb-Grid tb-Grid--24 tb-Grid--m--24 tb-Grid--xs--24 component-padding-topAndBottom frameinverted" style="background-color: rgb(226, 240, 250);"><div class="background-styling-container tb-GridColumn tb-GridColumn--l--24 tb-GridColumn--m--22 tb-GridColumn--xs--24 tb-GridColumn--offset--l--none tb-GridColumn--offset--m--1 tb-GridColumn--offset--xs--0" style="background-color: white;"><div class="tb-Grid  tb-Grid--l--24 tb-Grid--m--22 tb-Grid--xs--24"><div class="cta-grid tb-GridColumn tb-GridColumn--l--20 tb-GridColumn--m--20 tb-GridColumn--xs--20
                                        tb-GridColumn--offset--l--2 tb-GridColumn--offset--m--1 tb-GridColumn--offset--xs--2"><div class="cta-content frame-padding"><h2 class="title cta-title xsmalltitle m-xxs-bottom color-blue">Company announcement</h2> <p class="img-des paragraph-l color-blue cta-desc">Novo Nordisk will hold an Extraordinary General Meeting on Friday, 14 November 2025 at 14:00 (CET).</p> <a href="/investors/extraordinary-general-meeting.html" aria-label="Registration and details" target="_self" role="link" tabindex="0"><button tabindex="-1" aria-hidden="true" class="button m-s-top button-link-animation"><span class="text">
                                        Registration and details
                                    </span> <span class="icon icon-right-arrow"></span></button></a></div></div></div></div></div></div>




                    </div>
                    <div class="latestnews aem-GridColumn aem-GridColumn--default--12"><!-- SDI include (path: /content/nncorp/global/en/_jcr_content/root/latestnews.nocache.html/nncorp/components/content/latestnews, resourceType: nncorp/components/content/latestnews) -->



                    <link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/latestnews/clientlibs.lc-b33d327a2948ff8f3c0b122c91bea4d3-lc.min.css" type="text/css"><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/latestnews/clientlibs.lc-2f84811f120841286f4306f37be27e56-lc.min.js" async=""></script>


                    <div class="gutters component-padding" style="background-color: white">
                        <div class="ln-wrapper small tb-Grid tb-Grid--24 tb-Grid--l--24">
                            <div class="ln-header tb-GridColumn tb-GridColumn--l--20 tb-GridColumn--offset--l--2">
                                <h2 class="h1-s">Latest news</h2>
                            </div>
                            <div class="ln-box tb-GridColumn tb-GridColumn--l--24" style="background-color:#E2F0FA;">
                                <div class="tb-Grid tb-Grid--24 tb-Grid--l--24 tb-Grid--m--24">
                                    <div class="ln-container tb-GridColumn tb-GridColumn--l--20 tb-GridColumn--m--20 tb-GridColumn--offset--l--2 tb-GridColumn--offset--m--2"><div class="ln-link-list ln-heading-wrapper"><a href="/news-and-media/news-and-ir-materials/news-details.html?id=916443" role="link" aria-label="" class="ln-link-item m-l-bottom right-arrow-animation color-blue"><h3 class="h3 job-name">30 October 2025</h3> <div class="location-info m-xxs-top"><p class="paragraph-s">Novo Nordisk submits proposal to acquire Metsera, Inc.</p></div> <div class="job-category m-xxs-top"><p aria-hidden="true" class="paragraph-s">Read more <span class="icon icon-right-arrow m-xxs-left"></span></p></div></a> <a href="/news-and-media/news-and-ir-materials/news-details.html?id=916442" role="link" aria-label="" class="ln-link-item m-l-bottom right-arrow-animation color-blue"><h3 class="h3 job-name">28 October 2025</h3> <div class="location-info m-xxs-top"><p class="paragraph-s">Novo Nordisk to present new Wegovy® (semaglutide 2.4 mg) data at the 2025 American Association for the Study of Liver Diseases annual meeting </p></div> <div class="job-category m-xxs-top"><p aria-hidden="true" class="paragraph-s">Read more <span class="icon icon-right-arrow m-xxs-left"></span></p></div></a> <a href="/news-and-media/news-and-ir-materials/news-details.html?id=916440" role="link" aria-label="" class="ln-link-item m-l-bottom right-arrow-animation color-blue"><h3 class="h3 job-name">21 October 2025</h3> <div class="location-info m-xxs-top"><p class="paragraph-s">Notice convening an Extraordinary General Meeting of Novo Nordisk A/S</p></div> <div class="job-category m-xxs-top"><p aria-hidden="true" class="paragraph-s">Read more <span class="icon icon-right-arrow m-xxs-left"></span></p></div></a></div> <div class="ln-footer"><a href="/news-and-media/news-and-ir-materials.html" role="link" class="paragraph-s all-jobs-lnk right-arrow-animation infotext color-blue">News archive <span class="icon icon-right-arrow"></span></a></div></div>
                                </div>
                            </div>
                        </div>
                    </div></div>
                    <div class="stockprice image aem-GridColumn aem-GridColumn--default--12">


                    <link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/stockprice/clientlib.lc-7655139b688085a27b8592eee4976b24-lc.min.css" type="text/css"><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/stockprice/clientlib.lc-f4ab05cfd32beacfc9f0d84dfb6ff0d5-lc.min.js" async=""></script>


                    <div>
                        <div class="gutters component-padding eh-wrapper error-handling-component component-padding white tb-Grid tb-Grid--24 tb-Grid--l--24 tb-Grid--m--24 tb-Grid--s--24 tb-Grid--xs--24" style="background-color: white">
                            <div id="stockprice_copy_copy" class="stockprice-wrapper tb-GridColumn tb-GridColumn--l--24 tb-GridColumn--m--22 tb-GridColumn--s--22 tb-GridColumn--xs--22 tb-GridColumn--offset--l--0 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1 tb-GridColumn--offset--xs--1 tb-Grid tb-Grid--l--24 tb-Grid--m--22 tb-Grid--s--22 tb-Grid--xs--24 no-frame-padding" style="background-color: white;"><div class="tb-GridColumn tb-GridColumn--l--9 tb-GridColumn--m--9 tb-GridColumn--xs--20 tb-GridColumn--offset--l--2 tb-GridColumn--offset--m--1 tb-GridColumn--offset--xs--2"><div class="tb-Grid tb-Grid--l--9 tb-Grid--m--9 tb-Grid--s--9 tb-Grid--xs--20"><div class="tb-GridColumn tb-GridColumn--l--7 tb-GridColumn--m--7 tb-GridColumn--s--9 tb-GridColumn--xs--18 m-xxs-bottom"><h2 class="tagline color-blue m-xxs-bottom">Investors</h2> <h3 class="paragraph-s color-blue">Share price</h3> <p class="priceDataContent paragraph-s color-blue show"><span>31.10.2025</span> <span>07:20</span></p></div> <div class="priceDataContent tb-GridColumn tb-GridColumn--l--9 tb-GridColumn--m--9 tb-GridColumn--s--9 tb-GridColumn--xs--20 m-xs-bottom show"><div class="price"><span class="price-value color-blue">315.95</span> <span class="price-currency h4 color-blue m-xxs-left">DKK</span></div></div> <div class="priceDataContent tb-GridColumn tb-GridColumn--l--9 tb-GridColumn--m--9 tb-GridColumn--s--9 tb-GridColumn--xs--20 m-m-bottom show"><div class="price-change"><a href="http://www.nasdaqomxnordic.com/shares/microsite?Instrument=CSE1158" target="_self" class="link color-blue paragraph-s right-arrow-animation">
                                                    Go to stock watch
                                                    <span aria-label="Right arrow icon" class="icon icon-right-arrow m-xxs-left"></span></a> <span class="paragraph-s color-blue">-6.75 DKK</span></div></div> <div class="link-list tb-GridColumn tb-GridColumn--l--7 tb-GridColumn--m--9 tb-GridColumn--s--9 tb-GridColumn--xs--20"><h3 class="color-blue tagline m-xxs-bottom">Quick links</h3> <a href="/investors/financial-calendar.html" class="link color-blue paragraph-s right-arrow-animation m-xs-bottom">
                                                        Conference calls &amp; other events
                                                        <span aria-label="Right arrow icon" class="icon icon-right-arrow m-xxs-left"></span></a> <a href="/investors/capital-markets-day-2024.html" class="link color-blue paragraph-s right-arrow-animation m-xs-bottom">
                                                        Visit Capital Markets day
                                                        <span aria-label="Right arrow icon" class="icon icon-right-arrow m-xxs-left"></span></a> <a href="/investors/stock-information.html" class="link color-blue paragraph-s right-arrow-animation m-xs-bottom">
                                                        Stock information
                                                        <span aria-label="Right arrow icon" class="icon icon-right-arrow m-xxs-left"></span></a> <a href="/news-and-media/news-and-ir-materials.html" class="link color-blue paragraph-s right-arrow-animation m-xs-bottom">
                                                        Press releases and company announcements
                                                        <span aria-label="Right arrow icon" class="icon icon-right-arrow m-xxs-left"></span></a> <a href="/science-and-technology/r-d-pipeline.html" class="link color-blue paragraph-s right-arrow-animation m-xs-bottom">
                                                        R&amp;D Pipeline
                                                        <span aria-label="Right arrow icon" class="icon icon-right-arrow m-xxs-left"></span></a></div></div></div> <div class="tb-GridColumn tb-GridColumn--l--8 tb-GridColumn--m--8 tb-GridColumn--s--9 tb-GridColumn--xs--20 tb-GridColumn--offset--l--3 tb-GridColumn--offset--m--3 tb-GridColumn--offset--s--2 tb-GridColumn--offset--xs--2"><h3 class="tagline color-blue m-xxs-bottom">Annual Report</h3> <div class="image-content-wrapper m-xs-bottom"><picture><source srcset="https://images.novonordisk.com/is/image/nncorpprod/novo-nordisk-annual-report-2024-1?wid=525&amp;fit=constrain&amp;qlt=90&amp;$$" media="(max-width: 525px)"> <source srcset="https://images.novonordisk.com/is/image/nncorpprod/novo-nordisk-annual-report-2024-1?wid=768&amp;fit=constrain&amp;qlt=90&amp;$$" media="(max-width: 768px)"> <source srcset="https://images.novonordisk.com/is/image/nncorpprod/novo-nordisk-annual-report-2024-1?wid=768&amp;fit=constrain&amp;qlt=90&amp;$$" media="(max-width: 1280px)"> <source srcset="https://images.novonordisk.com/is/image/nncorpprod/novo-nordisk-annual-report-2024-1?wid=768&amp;fit=constrain&amp;qlt=90&amp;$$" media="(max-width: 8000px)"> <img src="https://images.novonordisk.com/is/image/nncorpprod/novo-nordisk-annual-report-2024-1?wid=768&amp;fit=constrain&amp;qlt=90&amp;$$" alt="Cover page of the Novo Nordisk Annual Report 2024 - Novo Nordisk employees Steve Piaget and Marie Ange Gahozo from our site in Kalundborg, Denmark, overseeing an active construction project" loading="eager"></picture></div> <h4 class="h4 color-blue">Annual Report 2024</h4> <a href="/investors/annual-report.html" class="link color-blue paragraph-s right-arrow-animation m-xs-bottom">
                                        Download Annual Report
                                        <span aria-label="Right arrow icon" class="icon icon-right-arrow m-xxs-left"></span></a></div> <input type="hidden" value="https://irs.tools.investis.com/Clients/dk/novo_nordisk1/xml/xml.aspx?format=json"></div>
                        </div>
                    </div>



                    </div>
                    <div class="layoutcontainergrid responsivegrid aem-GridColumn aem-GridColumn--default--12">

                    <link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/layoutcontainergrid/clientlibs.lc-8e68a20a5b5ff888db6d5b26377b9644-lc.min.css" type="text/css"><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/layoutcontainergrid/clientlibs.lc-d172ddb52d072368a934b10e469e693a-lc.min.js" async=""></script>


                    <div class="layout-container-grid"><div class="gutters component-padding-topAndBottom frameinverted  outer-container" style="background-color: rgb(226, 240, 250);"><div class="tb-Grid tb-Grid--24 tb-Grid--l--24 tb-Grid--m--24 tb-Grid--s--24"><div class="tb-GridColumn tb-GridColumn--l--20 tb-GridColumn--offset--l--2 container-grid-header"><h2 class="xsmalltitle m-xxs-bottom
                                        title">Learn about falsified and compounded medicines</h2></div> <div class="frame-padding tb-GridColumn tb-GridColumn--l--24 tb-GridColumn--m--22 tb-GridColumn--s--22 tb-GridColumn--offset--l--none tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1" style="background-color: white;"><div class="tb-Grid tb-Grid--24 tb-Grid--l--22 tb-Grid--m--24 tb-Grid--s--24"><div class="tb-GridColumn tb-GridColumn--l--20 tb-GridColumn--m--22 tb-GridColumn--s--22 tb-GridColumn--offset--l--2 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--1"><div><div class="rowcontainer"><div><div class="contentgrid_row"><div class="columns-3 column has-content-true column-0 top_align contentgrid_column"><div class="aem-Grid aem-Grid--12 aem-Grid--default--12 "><div class="image-video image aem-GridColumn aem-GridColumn--default--12"><link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/image-video/clientlibs.lc-d6f3af1e3efca5e63b4d0dbb00c396bd-lc.min.css" type="text/css"> <div class="image-video-wrapper"><div><h3 class="color-blue subtext subheadline paragraph-s rtl-text">The risks and how to spot a falsified medicine</h3> <p class="color-blue subtext paragraph-s paragraph-line-break rtl-text">Patient safety is our top priority, and we are committed to supporting the active fight against falsified Novo Nordisk medicines and other illegal activity in the market.</p> <div class="link m-xs-top right-arrow-animation"><a href="/patients/report-falsified-products.html" target="_self" class="color-blue link-label m-xxs-right paragraph-s"><span>Learn more</span> <span aria-hidden="true" class="icon icon-right-arrow m-xxs-left"></span></a></div></div></div></div></div></div> <div class="columns-3 column has-content-true column-1 top_align contentgrid_column"><div class="aem-Grid aem-Grid--12 aem-Grid--default--12 "><div class="image-video image aem-GridColumn aem-GridColumn--default--12"><div class="image-video-wrapper"><div><h3 class="color-blue subtext subheadline paragraph-s rtl-text">Our position on falsified medicines</h3> <p class="color-blue subtext paragraph-s paragraph-line-break rtl-text">We are proactively combating falsified medicines. Through constantly reinforced security measures and collaboration with authorities and industry peers, we strive to protect patient’s health and ensure the integrity of our products. </p> <div class="link m-xs-top right-arrow-animation"><a href="/sustainable-business/esg-portal/principles-positions-and-policies/falsified-medicines-position.html" target="_self" class="color-blue link-label m-xxs-right paragraph-s"><span>Learn more</span> <span aria-hidden="true" class="icon icon-right-arrow m-xxs-left"></span></a></div></div></div></div></div></div> <div class="columns-3 column has-content-true column-2 top_align contentgrid_column"><div class="aem-Grid aem-Grid--12 aem-Grid--default--12 "><div class="image-video image aem-GridColumn aem-GridColumn--default--12"><div class="image-video-wrapper"><div><h3 class="color-blue subtext subheadline paragraph-s rtl-text">Our position on illicit compounding of semaglutide</h3> <p class="color-blue subtext paragraph-s paragraph-line-break rtl-text">We are committed to raising awareness about and combating the manufacturing and spread of unauthorised, unlawful and unsafe semaglutide active pharmaceutical ingredients (APIs) and semaglutide medicines, as well as other illegal activities that threaten patient safety and the integrity of our products.</p> <div class="link m-xs-top right-arrow-animation"><a href="/sustainable-business/esg-portal/principles-positions-and-policies/illicit-compounding-position.html" target="_self" class="color-blue link-label m-xxs-right paragraph-s"><span>Learn more</span> <span aria-hidden="true" class="icon icon-right-arrow m-xxs-left"></span></a></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div>



                    </div>
                    <div class="ghost aem-GridColumn aem-GridColumn--default--12">

                    </div>


                    </div>
                    </main>







                                <footer class="footer experiencefragment" role="contentinfo">
                    <div id="experiencefragment-094a6cfa36" class="cmp-experiencefragment cmp-experiencefragment--xf-footer">





                    <div class="xf-content-height">
                        <div class="root responsivegrid">


                    <div class="aem-Grid aem-Grid--12 aem-Grid--default--12 ">

                        <div class="promomatsid aem-GridColumn aem-GridColumn--default--12">


                    <link rel="stylesheet" href="https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/promomatsid/clientlibs.lc-34a10aaa449ba556731680b8c9938d00-lc.min.css" type="text/css">










                    </div>
                    <div class="footer aem-GridColumn aem-GridColumn--default--12"><footer id="footer" role="contentinfo" class="ft-wrapper gutters"><div class="tb-Grid tb-Grid--l--24 tb-Grid--m--24 tb-Grid--s--24 position-relative"><div class="tb-GridColumn tb-GridColumn--l--5 tb-GridColumn--offset--l--0 tb-GridColumn--m--5 tb-GridColumn--offset--m--1 tb-GridColumn--s--10 tb-GridColumn--offset--s--2 m-xl-bottom"><h2 class="tagline m-xxs-bottom">NOVO NORDISK HQ</h2> <div class="infotext"><p><u></u>Novo Nordisk A/S<br>
                    Novo Alle 1<br>
                    2880 Bagsværd<br>
                    Denmark<br>
                    +45-4444-8888<br>
                    CVR-no.&nbsp;24256790</p> <p>&nbsp;</p> <p><i>Our medicines are for the approved indication for which they are authorised in the local country or region. For more information, please visit our<b>&nbsp;<a href="/our-products/our-medicines.html">product page</a></b></i></p></div></div> <div class="tb-GridColumn tb-GridColumn--l--5 tb-GridColumn--offset--l--1 tb-GridColumn--m--5 tb-GridColumn--offset--m--1 tb-GridColumn--s--8 tb-GridColumn--offset--s--2 m-xl-bottom"><h2 class="tagline m-xxs-bottom">Helpful links</h2> <ul class="list"><li><a href="/patients/report-a-side-effect.html" target="_self" aria-label="Report a side effect" class="infotext">
                                            Report a side effect
                                            <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="/patients.html" target="_self" aria-label="Patient help" class="infotext">
                                            Patient help
                                            <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="/contact-us/corporate-procurement.html" target="_self" aria-label="Supplier help" class="infotext">
                                            Supplier help
                                            <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="/our-products/our-medicines.html" target="_self" aria-label="Product list" class="infotext">
                                            Product list
                                            <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="/contact-us.html" target="_self" aria-label="Contact us" class="infotext">
                                            Contact us
                                            <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="https://onecode.novonordisk.com/code-of-conduct/our-purpose" target="_blank" aria-label="Our Purpose - Code of conduct, opens in a new window" class="infotext">
                                            Our Purpose - Code of conduct
                                            <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="/sustainable-business/esg-portal.html" target="_self" aria-label="ESG reporting" class="infotext">
                                            ESG reporting
                                            <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="https://novonordiskfonden.dk/en/" target="_blank" aria-label="Novo Nordisk Foundation, opens in a new window" class="infotext">
                                            Novo Nordisk Foundation
                                            <span class="icon icon-right-arrow m-xxs-left"></span></a></li></ul></div> <div class="tb-GridColumn tb-GridColumn--l--5 tb-GridColumn--offset--l--1 tb-GridColumn--m--5 tb-GridColumn--offset--m--1 tb-GridColumn--s--10 tb-GridColumn--offset--s--2 m-xl-bottom social-media-links"><h2 class="tagline m-xxs-bottom">
                                            Follow us</h2> <ul class="list"><li><a href="https://www.novonordisk.com/data-privacy-and-user-rights/social-media-privacy-disclaimer.html" target="_self" aria-label="Social media community guidelines" class="infotext">Social media community guidelines
                                                        <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="https://www.linkedin.com/company/novo-nordisk" target="_blank" aria-label="LinkedIn, opens in a new window" class="infotext">LinkedIn
                                                        <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="https://www.youtube.com/user/novonordisk" target="_blank" aria-label="YouTube, opens in a new window" class="infotext">YouTube
                                                        <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="https://www.facebook.com/novonordisk" target="_blank" aria-label="Facebook, opens in a new window" class="infotext">Facebook
                                                        <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="https://twitter.com/novonordisk" target="_blank" aria-label="X (Twitter), opens in a new window" class="infotext">X (Twitter)
                                                        <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="https://www.instagram.com/novonordisk" target="_blank" aria-label="Instagram, opens in a new window" class="infotext">Instagram
                                                        <span class="icon icon-right-arrow m-xxs-left"></span></a></li> <li><a href="https://www.tiktok.com/@novonordisk" target="_blank" aria-label="TikTok, opens in a new window" class="infotext">TikTok
                                                        <span class="icon icon-right-arrow m-xxs-left"></span></a></li></ul></div> <div class="tb-GridColumn tb-GridColumn--l--6 tb-GridColumn--offset--l--1 tb-GridColumn--m--5 tb-GridColumn--offset--m--1 tb-GridColumn--s--10 tb-GridColumn--offset--s--2 local-office"><h2 class="tagline m-xxs-bottom">Find your local office</h2> <a href="/location.html" target="_self" class="infotext"><span class="icon icon-location-blue-edge m-xxs-right"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></span>
                                    Select location</a></div> <div class="tb-GridColumn tb-GridColumn--l--24 tb-GridColumn--offset--l--0 tb-GridColumn--m--22 tb-GridColumn--s--20 tb-GridColumn--offset--m--1 tb-GridColumn--offset--s--2 legal-links m-xl-top"><a href="/copyright.html" target="_self" class="infotext">© 2025 Novo Nordisk A/S
                                    <div class="righ-arrow-icon-block"><span class="icon icon-right-arrow m-xxs-left"></span></div></a> <a href="/data-privacy-and-user-rights.html" target="_self" class="infotext">Data Privacy
                                    <div class="righ-arrow-icon-block"><span class="icon icon-right-arrow m-xxs-left"></span></div></a> <a href="/data-privacy-and-user-rights/cookie-policy.html" target="_self" class="infotext">Cookie policy
                                    <div class="righ-arrow-icon-block"><span class="icon icon-right-arrow m-xxs-left"></span></div></a> <a href="#" tabindex="0" class="infotext optanon-toggle-display">
                                Cookie settings
                                <div class="righ-arrow-icon-block"><span class="icon icon-right-arrow m-xxs-left"></span></div></a></div> <div class="water-mark-container"><p class="watermark-text" style="font-size: 362px; line-height: 362px; position: relative; bottom: -103.429px;">change</p></div></div></footer>


                    </div>


                    </div>
                    </div>

                    </div>
                    </div>


                    </footer>




                    </div>






                    <script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/core/wcm/components/commons/site/clientlibs/container.lc-0a6aff292f5cc42142779cde92054524-lc.min.js"></script><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/disclaimer-dialog.lc-d4d7bd10f2f75c829999487ac77cd34b-lc.min.js"></script><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/confirm-dialog.lc-4ee5bd48888d3e0297bae124073d5963-lc.min.js"></script><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/rnd-dialog.lc-a4a7a4ea5209c1517d7737edd5b5862c-lc.min.js"></script><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/services/base-http.lc-0977b3d22d6ef3c04a2b1fc94d6581bc-lc.min.js"></script><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/services/find-country-contact-service.lc-bdf3c7147f7c263835bf180ebf1bda35-lc.min.js"></script><script type="text/javascript" src="https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/clientlib-base.lc-194d4315986b188563be83722a7f244c-lc.min.js"></script>




























                    <script>_satellite["_runScript1"](function(event, target, Promise) {

                    _linkedin_partner_id = "7065009";
                    window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
                    window._linkedin_data_partner_ids.push(_linkedin_partner_id);

                    (function(l) {
                    if (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};
                    window.lintrk.q=[]}
                    var s = document.getElementsByTagName("script")[0];
                    var b = document.createElement("script");
                    b.type = "text/javascript";b.async = true;
                    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
                    s.parentNode.insertBefore(b, s);})(window.lintrk);


                    });</script><script src="//rum-static.pingdom.net/pa-62b567e69034fb0011000e6f.js" async=""></script><script>_satellite["_runScript2"](function(event, target, Promise) {
                    /*********LOAD MEDIA SDK************/
                    /*************************************************************************
                     * ADOBE CONFIDENTIAL
                     * ___________________
                     *
                     * Copyright 2019 Adobe
                     * All Rights Reserved.
                     *
                     * NOTICE: All information contained herein is, and remains
                     * the property of Adobe and its suppliers, if any. The intellectual
                     * and technical concepts contained herein are proprietary to Adobe
                     * and its suppliers and are protected by all applicable intellectual
                     * property laws, including trade secret and copyright laws.
                     * Dissemination of this information or reproduction of this material
                     * is strictly forbidden unless prior written permission is obtained
                     * from Adobe.
                     **************************************************************************/
                    /*
                     * MediaSDK - 2.2.0 - 2019-02-12
                     * Copyright (c) 2019 Adobe. All Rights Reserved.
                     *
                     * Copyright for external libraries used in Media SDK
                     * JavaScript MD5 1.0.1
                     * https://github.com/blueimp/JavaScript-MD5
                     *
                     * Copyright 2011, Sebastian Tschan
                     * https://blueimp.net
                     *
                     * Licensed under the MIT license:
                     * http://www.opensource.org/licenses/MIT
                     *
                     * Based on
                     * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
                     * Digest Algorithm, as defined in RFC 1321.
                     * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
                     * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
                     * Distributed under the BSD License
                     * See http://pajhome.org.uk/crypt/md5 for more info.
                     *
                     *
                     * umdjs (commonjsStrict.js)
                     * Copyright (c) the UMD contributors
                     * Licensed under the MIT license:
                     * https://github.com/umdjs/umd/blob/master/LICENSE.md
                     */
                    (function (root, factory) {
                      if (typeof define === 'function' && define.amd) {
                        define(['exports'], factory);
                      } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
                        factory(exports);
                      } else {
                        factory(root.ADB = {});
                      }
                    }(typeof self !== 'undefined' ? self : this, function (exports) {
                      var lib = {};
                      (function () {


                    // Heartbeat core
                    !function(a){if(void 0===b)var b={};if(void 0===c)var c={};if(void 0===d)var d={};if(d.radio||(d.radio={}),d.plugin||(d.plugin={}),void 0===e)var e={};e.clock||(e.clock={}),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}(b),function(a){"use strict";var b={};b.startsWith=function(a,b){return 0==a.indexOf(b)},a.StringUtils=b}(b),function(a){"use strict";var b={};b.clone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},b.merge=function(a,c){var d=b.clone(a);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d},b.append=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},a.ObjectUtils=b}(b),function(a){"use strict";function b(a){if(null==a)return!0;for(var b=0;b<a.length;++b)if(isNaN(a[b]))return!1;return!0}function c(a,c){if("string"!=typeof a||"string"!=typeof c)return NaN;var d=a.split("."),e=c.split(".");if(!b(d)||!b(e))return NaN;for(var f=Math.max(d.length,e.length),g=0;g<f;++g){var h=void 0!=d[g]?d[g]:"0",i=void 0!=e[g]?e[g]:"0";if(h=Number(h),i=Number(i),h>i)return 1;if(h<i)return-1}return 0}var d={};d.isGreaterThan=function(a,b){return c(a,b)>0},d.isGreaterThanEqual=function(a,b){return c(a,b)>=0},d.isLessThan=function(a,b){return c(a,b)<0},d.isLessThanEqual=function(a,b){return c(a,b)<=0},d.isSame=function(a,b){return 0===c(a,b)},d.isDifferent=function(a,b){return 0!==c(a,b)},a.VersionUtils=d}(b),function(a){"use strict";function b(a,b,c){this.fn=a,this.ctx=b,this.params=c}b.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},a.radio.Command=b}(d),function(a){"use strict";function b(a,b){this._queue=[],this._lastTs=0,this._isSuspended=void 0!==a&&a,this._delay=void 0!==b?b:0}b.prototype.addCommand=function(a){this._queue.push(a),this._drain()},b.prototype.cancelAllCommands=function(){this._queue=[]},b.prototype.isEmpty=function(){return 0===this._queue.length},b.prototype.suspend=function(){this._isSuspended=!0},b.prototype.resume=function(){this._isSuspended=!1,this._drain()},b.prototype.flush=function(){this._isSuspended=!1;for(var a=0;a<this._queue.length;a++){this._queue[a].run()}this._queue=[]},b.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var a=this;!function b(){var c=a._queue.shift();c?a._runCommand(c,function(){a._isSuspended||b()}):a._drainInProgress=!1}()}},b.prototype._runCommand=function(a,b){function c(){a.run(),null!=b&&b.call(d)}var d=this;if(0==this._lastTs)c();else{var e=(new Date).getTime(),f=e-this._lastTs;this._lastTs=e,f<this._delay?setTimeout(c,this._delay-f):c()}},a.radio.CommandQueue=b}(d),function(a){"use strict";function b(a,b){if(this._name=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function c(a,c){if(a===c)return!0;for(var d=(a||"").split(b.SEPARATOR),e=(c||"").split(b.SEPARATOR),f=!0,g=0;g<d.length;g++)f=f&&(d[g]===b.WILDCARD||d[g]===e[g]);return f}b.WILDCARD="*",b.SEPARATOR=":",b.prototype.toString=function(){return"<channel: "+this._name+">"},b.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(d,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},b.prototype.on=function(a,b,c){this._isShutDown||(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({fn:b,ctx:c}))},b.prototype.off=function(a,b,c){if(!this._isShutDown){if(b="function"==typeof b?b:null,!a&&null==b&&!c)return void(this._listeners={});if(a)this._removeListener(a,b,c);else for(a in this._listeners)this._listeners.hasOwnProperty(a)&&this._removeListener(a,b,c)}},b.prototype.trigger=function(a){if(!this._isShutDown)for(var b in this._listeners)if(this._listeners.hasOwnProperty(b)&&c(b,a.name))for(var d=this._listeners[b].slice(0),e=0;e<d.length;e++){var f=d[e];f.fn.call(f.ctx,a)}},b.prototype.comply=function(a,b,c){this._isShutDown||(this._commands[a]={cmd:b,ctx:c})},b.prototype.command=function(a,b){if(!this._isShutDown){var c=this._commands[a];if(!c)return void this._logger.warn(d,"#command > No command handler for: "+a);c.cmd.call(c.ctx,b)}},b.prototype.reply=function(a,b,c){this._isShutDown||(this._requests[a]={fn:b,ctx:c})},b.prototype.request=function(a){if(!this._isShutDown){var b=this._requests[a];return b?b.fn.call(b.ctx):(this._logger.warn(d,"#request > No request handler for: "+a),null)}},b.prototype._removeListener=function(a,b,c){b="function"==typeof b?b:null;var d=this._listeners[a];if(d){if(!d.length||null==b&&!c)return void delete this._listeners[a];for(var e=0;e<d.length;e++){var f=d[e];null!==b&&b!==f.fn||c&&c!==f.ctx||this._listeners[a].splice(e,1)}}};var d="radio::Channel";a.radio.Channel=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._channels={}}var c=a.radio.Channel;b.prototype.channel=function(a){return this._channels[a]||(this._channels[a]=new c(a,this._logger)),this._channels[a]},b.prototype.shutdown=function(){for(var a in this._channels)this._channels.hasOwnProperty(a)&&this._channels[a].shutdown()},a.radio.Radio=b}(d),function(a){"use strict";function b(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a}a.extend=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){throw new Error("Implementation error: Method must be overridden.")},a.ILogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){window.console&&window.console.log&&window.console.log(a)},a.LogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.setLogWriter=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.debug=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.info=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.warn=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.error=function(a,b){throw new Error("Implementation error: Method must be overridden.")},a.ILogger=b}(d),function(a){"use strict";function b(){this._logWriter=new d}function c(a){return a<10?"00"+a:a<100?"0"+a:""+a}var d=a.LogWriter;b.prototype.setLogWriter=function(a){if(!a)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=a,this._enabled=!1},b.prototype.getLogWriter=function(){return this._logWriter},b.prototype.getEnabled=function(){return this._enabled},b.prototype.enable=function(){this._enabled=!0},b.prototype.disable=function(){this._enabled=!1},b.prototype.debug=function(a,b){this._log(a,f,b)},b.prototype.info=function(a,b){this._log(a,e,b)},b.prototype.warn=function(a,b){this._log(a,g,b)},b.prototype.error=function(a,b){this._log(a,h,b)},b.prototype._log=function(a,b,d){if(b==h||this._enabled){var e="",f=new Date;e+="["+f.toTimeString()+"."+c(f.getMilliseconds())+"] ["+b+"] ",e+="["+a+"] "+d,this._logWriter.write(e)}};var e="INFO",f="DEBUG",g="WARN",h="ERROR";a.Logger=b}(d),function(a){"use strict";function b(a,b){this._pluginName=a,this._eventName=b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getEventName=function(){return this._eventName},b.prototype.getName=function(){return this._pluginName+c.SEPARATOR+this._eventName},a.Trigger=b}(d),function(a){"use strict";function b(a,b){this.name=a,this.data=b}b.SUCCESS="success",b.ERROR="error",b.createFromTrigger=function(a){return new b(a.getName())},a.Event=b}(d),function(a){"use strict";function b(){this._events={}}b.prototype.addEventListener=function(a,b,c){a&&b&&(c=c||window,this._events[a]=this._events[a]||[],this._events[a].push({cb:b,ctx:c}))},b.prototype.removeEventListener=function(a,b,c){if(a&&b){c=c||window;var d,e,f=!1;for(e in this._events)if(a===e){f=!0;break}if(f){for(d=this._events[e].length-1;d>=0;d--){var g=this._events[e][d];b===g.cb&&c===g.ctx&&this._events[e].splice(d,1)}this._events[e].length||delete this._events[e]}}},b.prototype.dispatchEvent=function(a){if(a.name){var b,c;for(b in this._events)if(this._events.hasOwnProperty(b)&&a.name===b){var d=this._events[b],e=d.slice(0),f=e.length;for(c=0;c<f;c++)e[c].cb.call(e[c].ctx,a);break}}},b.prototype.removeAllListeners=function(a){if(a){var b,c;for(c in this._events)if(this._events.hasOwnProperty(c)){for(b=this._events[c].length-1;b>=0;b--){var d=this._events[c][b];d.ctx===a&&this._events[c].splice(b,1)}this._events[c].length||delete this._events[c]}}else this._events={}},a.EventDispatcher=b}(d),function(a){"use strict";function b(){}function c(a,b){this.url=a||null,this.method=b,this._xmlhttp=null}function d(){d.__super__.constructor.call(this),this._connection=null}var e=a.Event,f=a.EventDispatcher;b.GET="GET",d.RESPONSE="response",d.INSTANCE="instance",a.extend(d,f),d.prototype.close=function(){this.removeAllListeners(null)},d.prototype.load=function(a){a&&a.method&&a.url&&(a._xmlhttp=this._createCORSRequest(a),a._xmlhttp?a._xmlhttp.send():this._loadImage(a))},d.prototype._createCORSRequest=function(a){var b=null;if(void 0!==window.XMLHttpRequest){var c=new window.XMLHttpRequest;"withCredentials"in c&&(b=c,b.open(a.method,a.url,!0))}if(null==b&&void 0!==window.XDomainRequest&&(b=new window.XDomainRequest,b.open(a.method,a.url)),b){var f={};f[d.INSTANCE]=this;var g=this;b.onload=function(){if(b.status&&parseInt(b.status,10)>=400)return this.onerror();f[d.RESPONSE]=b.responseText,g.dispatchEvent(new e(e.SUCCESS,f))},b.onerror=function(){g.dispatchEvent(new e(e.ERROR,f))}}return b},d.prototype._loadImage=function(a){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=a.url;var b={};b[d.RESPONSE]="",b[d.INSTANCE]=this,this.dispatchEvent(new e(e.SUCCESS,b))},a.URLRequestMethod=b,a.URLRequest=c,a.URLLoader=d}(d),function(a){"use strict";var b="2.2.0.223",c="05c3c4",d={};d.getVersion=function(){return"js-"+b+"-"+c},d.getMajor=function(){return d.getNumberAtPosition(0)},d.getMinor=function(){return d.getNumberAtPosition(1)},d.getMicro=function(){return d.getNumberAtPosition(2)},d.getPatch=function(){return d.getNumberAtPosition(3)},d.getBuild=function(){return c},d.getApiLevel=function(){return 4},d.getNumberAtPosition=function(a){return b.split(".")[a]},a.Version=d}(c),function(a){"use strict";function b(a,b){this._message=a,this._details=b}b.prototype.getMessage=function(){return this._message},b.prototype.getDetails=function(){return this._details},a.ErrorInfo=b}(c),function(a){"use strict";function b(){this.debugLogging=!1}a.HeartbeatConfig=b}(c),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.HeartbeatDelegate=b}(c),function(a){"use strict";function b(){}b.prototype.configure=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.bootstrap=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.resolveData=function(a){throw new Error("Implementation error: Method must be overridden.")},a.plugin.IPlugin=b}(d),function(a){"use strict";function b(a,b,c,d){this.trigger=a,this.action=c,this.plugin=b,this._paramMappings={},this.mergeParams(d)}var c=a.plugin.ParamMapping;b.prototype.mergeParams=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];this._paramMappings[c.getKeyName()]=c}},b.prototype.getParams=function(){var a=[];for(var b in this._paramMappings)this._paramMappings.hasOwnProperty(b)&&a.push(this._paramMappings[b]);return a},b.prototype.addParam=function(a){this._paramMappings[a.getKeyName()]=a},b.prototype.removeParam=function(a,b){var d=new c(a,b);this._paramMappings.hasOwnProperty(d.getKeyName())&&delete this._paramMappings[d.getKeyName()]},a.plugin.Behaviour=b}(d),function(a){"use strict";function b(a,b,d){this._pluginName=a,this._key=b,this._paramName=d||a+c.SEPARATOR+b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getKey=function(){return this._key},b.prototype.getKeyName=function(){return this._pluginName+c.SEPARATOR+this._key},b.prototype.getParamName=function(){return this._paramName},a.plugin.ParamMapping=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._plugins={},this._behaviours={},this._radio=new d(this._logger),this._dataChannel=this._radio.channel(g),this._ctrlChannel=this._radio.channel(h)}var c=a.Event,d=a.radio.Radio,e=a.radio.Channel,f=a.plugin.Behaviour;b.ERROR="error",b.prototype.addPlugin=function(a){var b=a.getName();this._plugins[b]&&this._logger.warn(i,"#addPlugin > Replacing plugin: "+b),this._plugins[b]=a,a.bootstrap(this)},b.prototype.setupPlugins=function(){for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].setup()},b.prototype.pluginExists=function(a){return!!this._plugins[a]},b.prototype.isPluginInitialized=function(a){return this._plugins[a]&&this._plugins[a].isInitialized()},b.prototype.on=function(a,b,c,d){this._dataChannel.on(a+e.SEPARATOR+b,c,d)},b.prototype.off=function(a,b,c,d){var f=a&&b?a+e.SEPARATOR+b:null;this._dataChannel.off(f,c,d)},b.prototype.trigger=function(a){var b=a.name,c=this._behaviours[b];if(c){var d,e,f,g,h,i={},j={};for(d=0;d<c.length;d++)if(f=c[d],g=f.getParams())for(e=0;e<g.length;e++)h=g[e],i[h.getPluginName()]=i[h.getPluginName()]||[],h.key in i[h.getPluginName()]||i[h.getPluginName()].push(h.getKey());for(var k in i)i.hasOwnProperty(k)&&(j[k]=this.request(k,i[k]));for(d=0;d<c.length;d++){f=c[d];var l={_behaviour:f,_eventData:a.data||{}};if(g=f.getParams()){for(e=0;e<g.length;e++)h=g[e],l[h.getParamName()]=j[h.getPluginName()]?j[h.getPluginName()][h.getKey()]:null;this.command(f.plugin.getName(),f.action,l)}}}this._dataChannel.trigger(a)},b.prototype.request=function(a,b){var c=this._plugins[a];return c&&b&&0!=b.length?c.resolveData(b):null},b.prototype.raise=function(a){this._errorInfo=a;var d=new c(b.ERROR,a);this._ctrlChannel.trigger(d)},b.prototype.getErrorInfo=function(){return this._errorInfo},b.prototype.destroy=function(){this._radio.shutdown();for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].destroy()},b.prototype.comply=function(a,b,c){this._dataChannel.comply(a.getName()+e.SEPARATOR+b,c,a)},b.prototype.command=function(a,b,c){this._dataChannel.command(a+e.SEPARATOR+b,c)},b.prototype.registerBehaviour=function(a,b,c,d){var e=a.getName(),g=new f(a,b,c,d);this._behaviours[e]=this._behaviours[e]||[],this._behaviours[e].push(g)};var g="data_channel",h="ctrl_channel",i="plugin::PluginManager";a.plugin.PluginManager=b}(d),function(a,b){"use strict";function c(a){this._name=a,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new d}var d=a.Logger,e=a.Trigger,f=a.Event,g=b.ErrorInfo;c.INITIALIZED="initialized",c.prototype.configure=function(a){},c.prototype.bootstrap=function(a){this._pluginManager=a,this._isDestroyed&&this._pluginManager.raise(new g("Invalid state.","Plugin already destroyed."))},c.prototype.setup=function(){this._trigger(c.INITIALIZED),this._isInitialized=!0},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},c.prototype.enable=function(){this._isEnabled=!0,this._enabled()},c.prototype.disable=function(){this._isEnabled=!1,this._disabled()},c.prototype.getName=function(){return this._name},c.prototype.getLogger=function(){return this._logger},c.prototype.isInitialized=function(){return this._isInitialized},c.prototype.resolveData=function(a){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,a);var b=null;if(a)for(var c=0;c<a.length;c++){var d=a[c];this._dataResolver.hasOwnProperty(d)&&(b=b||{},"function"==typeof this._dataResolver[d]?b[d]=this._dataResolver[d].call(this):b[d]=this._dataResolver[d])}return b},c.prototype.toString=function(){return"<plugin: "+this._name+">"},c.prototype._enabled=function(){},c.prototype._disabled=function(){},c.prototype._teardown=function(){},c.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,"Plugin destroyed."),!1):(this._logger.error(this._logTag,"Plugin disabled."),!1)},c.prototype._trigger=function(a,b){var c=f.createFromTrigger(new e(this.getName(),a));c.data=b,this._pluginManager.trigger(c)},a.plugin.BasePlugin=c}(d,c),function(a){"use strict";function b(a,b,c){this.name=a,this.interval=b,this.isActive=!1,this.repeatCount=void 0!==c?c:e,this._nextTickTimestamp=0,this.reset()}function c(a,b){if(!a)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._timers={};var c=this;this._clock=window.setInterval(function(){c._onTick()},1e3*f)}b.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},b.prototype.shouldTick=function(){return(new Date).getTime()>this._nextTickTimestamp-g/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},b.prototype._updateNextTickTimestamp=function(){var a=(new Date).getTime();this._nextTickTimestamp=a+1e3*this.interval-1},c.prototype.createTimer=function(a,c,d){this._timers[a]=new b(a,c,d)},c.prototype.destroyTimer=function(a){delete this._timers[a]},c.prototype.resumeTimer=function(a,b){b=void 0!==b&&b,this._logger.debug(d,"#resumeTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!0,b&&c.reset())},c.prototype.pauseTimer=function(a,b){b=void 0!==b&&b,this._logger.debug(d,"#pauseTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!1,b&&c.reset())},c.prototype.isTimerPaused=function(a){var b=this._timers[a];return!!b&&!b.isActive},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},c.prototype._onTick=function(){for(var a in this._timers)if(this._timers.hasOwnProperty(a)){var b=this._timers[a];b.isActive&&b.shouldTick()&&(b.interval>1&&this._logger.debug(d,"#_onTick() > "+b.name+"("+b.tick+" | "+b.repeatCount+")"),0!=b.repeatCount?(this._service.onTick(b.name,b.interval,b.tick),b.repeatCount!=e&&b.repeatCount--):this.destroyTimer(b.name))}};var d="service.clock::TimerManager",e=-1,f=.25,g=1e3*f;a.clock.TimerDescriptor=b,a.clock.TimerManager=c}(e),function(a,b,c){"use strict";function d(a){if(d.__super__.constructor.call(this,h),!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._timerManager=new e(this,this._logger),this._setupDataResolver()}var e=c.clock.TimerManager,f=b.StringUtils,g=a.plugin.BasePlugin;a.extend(d,g),d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._pluginManager.comply(this,i,this._cmdCreate),this._pluginManager.comply(this,k,this._cmdResume),this._pluginManager.comply(this,j,this._cmdPause),this._pluginManager.comply(this,l,this._cmdDestroy)},d.prototype._teardown=function(){this._timerManager.destroy()},d.prototype._cmdCreate=function(a){var b=a[o]||s;this._timerManager.createTimer(a[m],a[n],b)},d.prototype._cmdPause=function(a){this._timerManager.pauseTimer(a[m],!!a[q])},d.prototype._cmdResume=function(a){this._timerManager.resumeTimer(a[m],!!a[q])},d.prototype._cmdDestroy=function(a){this._timerManager.destroyTimer(a[m])},d.prototype.onTick=function(a,b,c){a+=".tick";var d={};d[m]=a,d[n]=b,d[p]=c,this._trigger(a,d)},d.prototype._setupDataResolver=function(){var a={},b=this._timerManager;a[r]=function(a){return b.isTimerPaused(a)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];if(c=c||{},f.startsWith(e,r)){var g=e.split(r+".");g.length>0&&(c[e]=a[r].call(this,g[1]))}}return c}};var h="service.clock",i="create",j="pause",k="resume",l="destroy",m="name",n="interval",o="repeat_count",p="tick",q="reset",r="is_paused",s=-1;c.clock.ClockService=d}(d,b,e),function(a,b,c){"use strict";function d(a,b){if(this._logger=new e,this._pluginManager=new f(this._logger),this._pluginManager.addPlugin(new g(this._logger)),b)for(var c=0;c<b.length;c++)this._pluginManager.addPlugin(b[c]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var e=a.Logger,f=a.plugin.PluginManager,g=b.clock.ClockService;d.prototype.configure=function(a){if(!a)throw new Error("Configuration object cannot be NULL.");a.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(h,"Instance is destroyed.")},d.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var h="Heartbeat";c.Heartbeat=d}(d,e,c),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=d),a.ADB.va||(a.ADB.va=c),a.ADB.va.utils||(a.ADB.va.utils=b),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);

                    // VideoPlayerPlugin
                    !function(a){if(void 0===b)var b={};!function(a){"use strict";var b={};b.ASSET_TYPE_VOD="vod",b.ASSET_TYPE_LIVE="live",b.ASSET_TYPE_LINEAR="linear",a.AssetType=b}(b),function(a){"use strict";function b(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},a.AdBreakInfo=b}(b),function(a){"use strict";function b(){this.id=null,this.name=null,this.length=null,this.position=null,this.granularTracking=!0}b.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position+", granularTracking="+this.granularTracking},a.AdInfo=b}(b),function(a){"use strict";function b(){this.name=null,this.length=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},a.ChapterInfo=b}(b),function(a){"use strict";function b(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}b.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},a.QoSInfo=b}(b),function(a){"use strict";function b(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.mediaType=null,this.streamType=null,this.resumed=!1}b.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", mediaType="+this.mediaType+", streamType="+this.streamType+", resumed="+this.resumed},a.VideoInfo=b}(b),function(a){"use strict";function b(){this.debugLogging=!1}a.VideoPlayerPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getAdBreakInfo=function(){return null},b.prototype.getAdInfo=function(){return null},b.prototype.getChapterInfo=function(){return null},b.prototype.getQoSInfo=function(){return null},a.VideoPlayerPluginDelegate=b}(b),function(a,b){"use strict";function c(a){if(c.__super__.constructor.call(this,h),!a)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=a,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._setupDataResolver()}var d=a.plugin.ParamMapping,e=a.Trigger,f=a.plugin.BasePlugin,g=b.VideoPlayerPluginConfig;a.extend(c,f),c.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof g))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");a.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+a.debugLogging+")")},c.prototype.bootstrap=function(a){c.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},c.prototype._cmdVideoIdleStart=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},c.prototype._cmdVideoIdleResume=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(p),this._trigger(q),a.isInAd&&(this._trigger(x),this._isTrackingAdBreak=!0),a.isInAd&&(this._trigger(z),this._isTrackingAd=!0),a.isInChapter&&this._trigger(G),this._trigger(u)),this._videoIdle=!1},c.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(p),this._isTrackingSessionStarted=!0;var a=this._dataResolver(["video.resumed"]);a.hasOwnProperty("video.resumed")&&a["video.resumed"]&&this._trigger(q)}},c.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._isTrackingAdBreak=!1,this._isTrackingAd=!1,this._contentStarted=!1,this._isPaused=!0,this._isBuffering=!1,this._isSeeking=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._trigger(m),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},c.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(n),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._contentStarted=!1}},c.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&this._allowPlayerStateChange()&&(this._isPaused=!1,this._trigger(u),this._startPlayheadTimer())},c.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")&&this._allowPlayerStateChange()){this._stopPlayheadTimer();var a={};a[O]=!1,this._isPaused=!0,this._trigger(v,a)}},c.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isBuffering=!0,this._trigger(C))},c.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&this._allowPlayerStateChange()&&(this._isBuffering=!1,this._trigger(D),this._startPlayheadTimer())},c.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isSeeking=!0,this._trigger(E))},c.prototype.trackSeekComplete=function(){this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")&&this._allowPlayerStateChange()&&(this._isSeeking=!1,this._trigger(F),this._startPlayheadTimer())},c.prototype.trackComplete=function(a,b){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){if(this._stopPlayheadTimer(),this._videoIdle)return this._logger.info(this._logTag,"#trackComplete() > Video session is already in Idle State."),void(a&&a());var c={};c[N]=a,b=void 0===b||!!b,b?this._trigger(r,c):(this._trigger(s),this._trigger(o,c))}},c.prototype.trackTimedMetadata=function(a){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(t,a)},c.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(G)},c.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"#trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(H)},c.prototype.trackChapterSkip=function(){this._logger.info(this._logTag,"#trackChapterSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterSkip")&&this._trigger(I)},c.prototype.trackAdBreakStart=function(){this._logger.info(this._logTag,"#trackAdBreakStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakStart")&&(this._trigger(x),this._isTrackingAdBreak=!0)},c.prototype.trackAdBreakComplete=function(){this._logger.info(this._logTag,"#trackAdBreakComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakComplete")&&(this._trigger(y),this._isTrackingAdBreak=!1)},c.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(z),this._isTrackingAd=!0)},c.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(A),this._isTrackingAd=!1)},c.prototype.trackAdSkip=function(){this._logger.info(this._logTag,"#trackAdSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackAdSkip")&&(this._trigger(B),this._isTrackingAd=!1)},c.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(J)},c.prototype.trackVideoPlayerError=function(a){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+a+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var b={};b[P]=l,b[Q]=a,this._trigger(K,b)}},c.prototype.trackApplicationError=function(a){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+a+")"),this._startSessionIfNeeded("trackApplicationError")){var b={};b[P]=k,b[Q]=a,this._trigger(K,b)}},c.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},c.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new e(j,L),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new e(j,M),this,"handleVideoIdleResume",[new d(i,"ad.isInAdBreak","isInAdBreak"),new d(i,"ad.isInAd","isInAd"),new d(i,"chapter.isInChapter","isInChapter")])},c.prototype._setupDataResolver=function(){function a(){return g.video?g.video:(g.video=h._delegate.getVideoInfo(),h._logger.info(h._logTag,"Data from delegate > VideoInfo: "+g.video),g.video)}function b(){return g.ad?g.ad:(g.ad=h._delegate.getAdInfo(),h._logger.info(h._logTag,"Data from delegate > AdInfo: "+g.ad),g.ad)}function c(){return g.pod?g.pod:(g.pod=h._delegate.getAdBreakInfo(),h._logger.info(h._logTag,"Data from delegate > AdBreakInfo: "+g.pod),g.pod)}function d(){return g.chapter?g.chapter:(g.chapter=h._delegate.getChapterInfo(),h._logger.info(h._logTag,"Data from delegate > ChapterInfo: "+g.chapter),g.chapter)}function e(){return g.qos?g.qos:(g.qos=h._delegate.getQoSInfo(),h._logger.info(h._logTag,"Data from delegate > QoSInfo: "+g.qos),g.qos)}var f={},g={},h=this;f["video.id"]=function(){var b=a(),c=b?b.id:null;return h._logger.debug(h._logTag,"Resolving video.id: "+c),c},f["video.name"]=function(){var b=a(),c=b?b.name:null;return h._logger.debug(h._logTag,"Resolving video.name: "+c),c},f["video.length"]=function(){var b=a(),c=b?b.length:NaN;return h._logger.debug(h._logTag,"Resolving video.length: "+c),c},f["video.playerName"]=function(){var b=a(),c=b?b.playerName:null;return h._logger.debug(h._logTag,"Resolving video.playerName: "+c),c},f["video.mediaType"]=function(){var b=a(),c=b?b.mediaType:null;return h._logger.debug(h._logTag,"Resolving video.mediaType: "+c),c},f["video.streamType"]=function(){var b=a(),c=b?b.streamType:null;return h._logger.debug(h._logTag,"Resolving video.streamType: "+c),c},f["video.playhead"]=function(){var b=a(),c=b?b.playhead:NaN;return h._logger.debug(h._logTag,"Resolving video.playhead: "+c),c},f["video.resumed"]=function(){var b=a(),c=!!b&&b.resumed;return h._logger.debug(h._logTag,"Resolving video.resumed: "+c),c},f["video.playheadStalled"]=function(){return this._playheadStalled},f["pod.name"]=function(){var a=c(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving pod.name: "+b),b},f["pod.playerName"]=function(){var a=c(),b=a?a.playerName:null;return h._logger.debug(h._logTag,"Resolving pod.playerName: "+b),b},f["pod.position"]=function(){var a=c(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving pod.position: "+b),b},f["pod.startTime"]=function(){var a=c(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving pod.startTime: "+b),b},f["ad.isInAd"]=function(){var a=b(),c=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAd: "+c),c},f["ad.isInAdBreak"]=function(){var a=c(),b=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAdBreak: "+b),b},f["ad.id"]=function(){var a=b(),c=a?a.id:null;return h._logger.debug(h._logTag,"Resolving ad.id: "+c),c},f["ad.name"]=function(){var a=b(),c=a?a.name:null;return h._logger.debug(h._logTag,"Resolving ad.name: "+c),c},f["ad.length"]=function(){var a=b(),c=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving ad.length: "+c),c},f["ad.position"]=function(){var a=b(),c=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving ad.position: "+c),c},f["ad.granularTracking"]=function(){var a=b(),c=!!a&&a.granularTracking;return h._logger.debug(h._logTag,"Resolving ad.granularTracking: "+c),c},f["ad.trackingInterval"]=function(){var a=S;return h._logger.debug(h._logTag,"Resolving ad.trackingInterval: "+a),a},f["chapter.isInChapter"]=function(){var a=d(),b=null!=a;return h._logger.debug(h._logTag,"Resolving chapter.isInChapter: "+b),b},f["chapter.name"]=function(){var a=d(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving chapter.name: "+b),b},f["chapter.length"]=function(){var a=d(),b=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving chapter.length: "+b),b},f["chapter.position"]=function(){var a=d(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving chapter.position: "+b),b},f["chapter.startTime"]=function(){var a=d(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving chapter.startTime: "+b),b},f["qos.bitrate"]=function(){var a=e(),b=a?a.bitrate:NaN;return h._logger.debug(h._logTag,"Resolving qos.bitrate: "+b),b},f["qos.fps"]=function(){var a=e(),b=a?a.fps:NaN;return h._logger.debug(h._logTag,"Resolving qos.fps: "+b),b},f["qos.droppedFrames"]=function(){var a=e(),b=a?a.droppedFrames:NaN;return h._logger.debug(h._logTag,"Resolving qos.droppedFrames: "+b),b},f["qos.startupTime"]=function(){var a=e(),b=a?1e3*a.startupTime:NaN;return h._logger.debug(h._logTag,"Resolving qos.startupTime: "+b),b},this._dataResolver=function(a){if(!a||0==a.length)return null;g={};for(var b=null,c=0;c<a.length;c++){var d=a[c];b=b||{},b[d]=f.hasOwnProperty(d)?f[d].call(this):null}return b}},c.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(v)))},c.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,!this._playheadStalled||this._isPaused||this._isSeeking||this._isBuffering||(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this._trigger(u)))},c.prototype._startPlayheadTimer=function(){var a=this;this._playheadTimer||this._isPaused||this._isSeeking||this._isBuffering||(this._playheadTimer=setInterval(function(){if(a._canProcess()){var b=a._dataResolver(["ad.isInAd","video.playhead"]);if(a._isTrackingAdBreak)a._playheadStalled&&a._trackExitStall();else{var c=b["video.playhead"];c!=a._previousPlayhead?a._trackExitStall():a._previousPlayhead>=0&&c==a._previousPlayhead&&++a._stalledPlayheadCount==T&&a._trackPlayheadStall(),c!=a._previousPlayhead&&c>0&&!a._contentStarted&&(a._isPaused||a._isBuffering||a._isSeeking||(a._logger.info(a._logTag,"#_playheadTimer playhead progress to: "+c),a._trigger(w),a._contentStarted=!0)),a._previousPlayhead=c}}},R))},c.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},c.prototype._startSessionIfNeeded=function(a){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+a+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+a+"() > No active tracking session."),!1)},c.prototype._allowPlayerStateChange=function(){return!(this._isTrackingAdBreak&&!this._isTrackingAd)||(this._logger.info(this._logTag,"_allowPlayerStateChange Player plugin does not allow player state changes when in Adbreak and not in Ad."),!1)};var h="player",i=h,j="adobe-heartbeat",k="sourceErrorExternal",l="sourceErrorSDK",m="video_load",n="video_unload",o="video_session_end",p="video_start",q="video_resume",r="video_complete",s="video_skip",t="timed_metadata",u="play",v="pause",w="content_start",x="adbreak_start",y="adbreak_complete",z="ad_start",A="ad_complete",B="ad_skip",C="buffer_start",D="buffer_complete",E="seek_start",F="seek_complete",G="chapter_start",H="chapter_complete",I="chapter_skip",J="bitrate_change",K="track_error",L="video_idle_start",M="video_idle_resume",N="callback",O="filter_report",P="source",Q="error_id",R=1001,S=1,T=2;b.VideoPlayerPlugin=c}(a.ADB.core,b),a.ADB.va.plugins.videoplayer||(a.ADB.va.plugins.videoplayer=b)}(this);

                    // AdobeHeartbeatPlugin
                    !function(a){if(void 0===b)var b={};b.clock||(b.clock={}),b.context||(b.context={}),b.filter||(b.filter={}),b.model||(b.model={}),b.network||(b.network={}),function(a,b){"use strict";function c(a,b,c,d,e){if(!b)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=b,!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=a,!e)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+c,this._logger=e,this._isDestroyed=!1,this._createTimer(c,d),this._installHandlers()}var d=a.Event;c.KEY_NAME="name",c.KEY_INTERVAL="interval",c.KEY_RESET="reset",c.prototype.resume=function(a){this._logger.debug(this._logTag,"Starting timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,i,b)},c.prototype.pause=function(a){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,h,b)},c.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var a={};a[c.KEY_NAME]=e+"."+this._name,this._pluginManager.command(f,j,a)}},c.prototype.setInterval=function(a){var b=k+"."+e+"."+this._name,c=this._pluginManager.request(f,[b])[b];this.pause(!0),this._createTimer(this._name,a),c||this.resume(!0)},c.prototype._cmdResume=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.resume(b)},c.prototype._cmdPause=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.pause(b)},c.prototype._onTick=function(a,b){this._channel.trigger(new d("clock:"+this._name+".tick",b))},c.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(f,e+"."+this._name+".tick",this._onTick,this)},c.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},c.prototype._createTimer=function(a,b){this._name=a,this._interval=b;var d={};d[c.KEY_NAME]=e+"."+this._name,d[c.KEY_INTERVAL]=this._interval,this._pluginManager.command(f,g,d)};var e="heartbeat",f="service.clock",g="create",h="pause",i="resume",j="destroy",k="is_paused";b.clock.Timer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,f,h,d)}var d=a.Event,e=b.clock.Timer;a.extend(c,e),c.prototype._onCheckStatusComplete=function(a){var b=a.data[l];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");b>g?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+b),this.setInterval(g)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(h)},c.prototype._getSettings=function(a){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new d(i))},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._getSettings,this),this._channel.on(k,this._onCheckStatusComplete,this),this._channel.reply(l,function(){return this._interval},this)};var f="check_status",g=600,h=180,i="clock:check_status.tick",j="clock:check_status.get_settings",k="net:check_status_complete",l="check_status_interval";b.clock.CheckStatusTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d),this._doNotOverrideInterval=!1}var d=b.clock.Timer;a.extend(c,d),c.prototype._onCheckStatusComplete=function(a){var b=a.data[g];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),this._doNotOverrideInterval)this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed. (doNotOverrideInterval = true)");else if(b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(f)},c.prototype._onUpdateReportingInterval=function(a){var b=a.data[g];if(this._doNotOverrideInterval=!!a.data[h],this._logger.debug(this._logTag,"#_onUpdateReportingInterval(interval="+b+", doNotOverrideInterval="+this._doNotOverrideInterval+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval value not changed.");this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onUpdateReportingInterval() > Invalid interval value."),this.setInterval(f)},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._onCheckStatusComplete,this),this._channel.on(i,this._onUpdateReportingInterval,this),this._channel.reply(g,function(){return this._interval},this)};var e="reporting",f=10,g="reporting_interval",h="do_not_override_interval",i="reporting:update_interval",j="net:check_status_complete";b.clock.ReportingTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="idle",f=1800;b.clock.IdleTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="flush_filter",f=.25;b.clock.FlushFilterTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c){if(!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(!b)throw new Error("Reference to the channel object cannot be NULL");if(!c)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new f(a,b,c),this._checkStatusTimer=new d(a,b,c),this._flushFilterTimer=new e(a,b,c),this._idleTimer=new g(a,b,c)}var d=b.clock.CheckStatusTimer,e=b.clock.FlushFilterTimer,f=b.clock.ReportingTimer,g=b.clock.IdleTimer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},b.clock.Clock=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this.value=a,this.hint=b}function d(a){this.realm=a,this.data={}}c.HINT_SHORT="short",d.prototype.setField=function(a,b,d){this.data[a]=new c(b,d)},d.prototype._createAccessor=function(a,b,c){var d=this;return function(){return arguments.length&&(d[a]=arguments[0],d.setField(b,arguments[0],c)),d[a]}},b.model.Dao=d,b.model.DaoField=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.adId(a.adId()),this.sid(a.sid()),this.resolver(a.resolver()),this.podId(a.podId()),this.podPosition(a.podPosition()),this.podOffset(a.podOffset()),this.podName(a.podName()),this.adLength(a.adLength()),this.adName(a.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var d=b.model.Dao;a.extend(c,d),b.model.AdDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",e.HINT_SHORT),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.reportSuiteId(a.reportSuiteId()),this.trackingServer(a.trackingServer()),this.ssl(a.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var d=b.model.Dao,e=b.model.DaoField;a.extend(c,d),b.model.AdobeAnalyticsDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.id(a.id()),this.sid(a.sid()),this.name(a.name()),this.position(a.position()),this.length(a.length()),this.offset(a.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var d=b.model.Dao;a.extend(c,d),b.model.ChapterDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.name(a.name()),this.videoId(a.videoId()),this.publisher(a.publisher()),this.length(a.length());var b=a.adData()?new e(a.adData()):null;this.adData(b);var d=a.chapterData()?new f(a.chapterData()):null;this.chapterData(d)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var d=b.model.Dao,e=b.model.AdDao,f=b.model.ChapterDao;a.extend(c,d),c.TYPE_AD="ad",c.TYPE_MAIN_CONTENT="main",b.model.AssetDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.duration(a.duration()),this.playhead(a.playhead()),this.id(a.id()),this.source(a.source()),this.ts(a.ts()),this.prevTs(a.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var d=b.model.Dao;a.extend(c,d),c.EVENT_TYPE_AA_START="aa_start",c.EVENT_TYPE_AA_AD_START="aa_ad_start",c.EVENT_TYPE_START="start",c.EVENT_TYPE_RESUME="resume",c.EVENT_TYPE_CHAPTER_START="chapter_start",c.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",c.EVENT_TYPE_CHAPTER_SKIP="chapter_skip",c.EVENT_TYPE_PLAY="play",c.EVENT_TYPE_PAUSE="pause",c.EVENT_TYPE_STALL="stall",c.EVENT_TYPE_BUFFER="buffer",c.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",c.EVENT_TYPE_ERROR="error",c.EVENT_TYPE_COMPLETE="complete",c.EVENT_TYPE_SKIP="skip",c.EVENT_TYPE_END="end",b.model.EventDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.bitrate(a.bitrate()),this.fps(a.fps()),this.droppedFrames(a.droppedFrames()),this.startupTime(a.startupTime()),this.isStartupTimeOverridden=a.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var d=b.model.Dao;a.extend(c,d),b.model.QoSDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.ovp(a.ovp()),this.sdk(a.sdk()),this.channel(a.channel()),this.playerName(a.playerName()),this.libVersion(a.libVersion()),this.apiLevel(a.apiLevel())}else this.ovp(e),this.sdk(e),this.channel(e),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var d=b.model.Dao;a.extend(c,d);var e="unknown";b.model.ServiceProviderDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.sessionId(a.sessionId())}else this.sessionId(null)}var d=b.model.Dao;a.extend(c,d),b.model.SessionDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type())}else this.type(null)}var d=b.model.Dao;a.extend(c,d),b.model.StreamDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.analyticsVisitorId(a.analyticsVisitorId()),this.marketingCloudVisitorId(a.marketingCloudVisitorId()),this.visitorId(a.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var d=b.model.Dao;a.extend(c,d),b.model.UserDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.audienceManagerBlob(a.audienceManagerBlob()),this.audienceManagerLocationHint(a.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var d=b.model.Dao;a.extend(c,d),b.model.AudienceManagerDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c,i,j){this.eventData=new e,this.eventData.type(b),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(c),this.assetData=new f(a._assetData),this.streamData=new g(a._streamData),this.qosData=new h(a._qosData),this.cuserData=d.clone(a._cuserData),this.meta=i,this.callback=j,this.filterReport=!0}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.TrackItem=c}(a.ADB.va.utils,b),function(a,b){"use strict";function c(a,b,c,i,j,k){this.adobeAnalyticsData=a,this.userData=b,this.aamData=c,this.serviceProviderData=i,this.sessionData=j,this.eventData=new e(k.eventData),this.assetData=new f(k.assetData),this.streamData=new g(k.streamData),this.qosData=new h(k.qosData),this.cuserData=d.clone(k.cuserData),this.meta=d.clone(k.meta),this.callback=k.callback,this.filterReport=k.filterReport}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.CUserDao;b.model.Report=c}(a.ADB.va.utils,b),function(a){"use strict";function b(){}b.prototype.serializeReport=function(a){},b.prototype.serializeDao=function(a){},b.prototype.serializeMap=function(a){},b.prototype.serializeNumber=function(a,b,c,d){},b.prototype.serializeString=function(a,b,c,d){},a.model.ISerializer=b}(b),function(a,b){"use strict";function c(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a}var d=b.model.Dao,e=b.model.DaoField,f=b.model.ISerializer;a.extend(c,f),c.prototype.serializeReport=function(a){var b=[];return b.push(this.serializeDao(a.adobeAnalyticsData)),b.push(this.serializeDao(a.userData)),b.push(this.serializeDao(a.aamData)),b.push(this.serializeMap(a.cuserData,"cuser")),b.push(this.serializeDao(a.serviceProviderData)),b.push(this.serializeDao(a.sessionData)),b.push(this.serializeDao(a.eventData)),b.push(this.serializeDao(a.assetData)),b.push(this.serializeDao(a.streamData)),b.push(this.serializeDao(a.qosData)),b.push(this.serializeMap(a.meta,"meta")),{serializedOutput:b.filter(function(a){return!!a}).join("&"),callback:a.callback}},c.prototype.serializeDao=function(a){return this._processDao(a).filter(function(a){return!!a}).join("&")},c.prototype.serializeMap=function(a,b){var c=[],d=b||"meta";for(var e in a)a.hasOwnProperty(e)&&a[e]&&c.push("s:"+d+":"+e+"="+window.encodeURIComponent(a[e]));return c.join("&")},c.prototype.serializeNumber=function(a,b,c,d){var f=h;return null==b||isNaN(b)?null:(d===e.HINT_SHORT&&(f=i),f+":"+c+":"+a+"="+Math.floor(b))},c.prototype.serializeString=function(a,b,c,d){return b?j+":"+c+":"+a+"="+window.encodeURIComponent(b):null},c.prototype._processDao=function(a){var b=[];for(var c in a.data)if(a.data.hasOwnProperty(c)){var e=a.data[c],f=e.value,h=e.hint,i=null,j=a.realm;if(null==f)continue;"number"==typeof f?i=this.serializeNumber(c,f,j,h):"string"==typeof f?i=this.serializeString(c,f,j,h):f instanceof d?i=this.serializeDao(f):this._logger.warn(g,"#_processDao() > Unable to serialize DAO. Field: "+c+". Value: "+f+"."),i&&b.push(i)}return b};var g="ah::QuerystringSerializer",h="l",i="h",j="s";b.model.QuerystringSerializer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the data object cannot be NULL");if(this._data=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b}c.prototype.parse=function(){var a,b,c,j,k,l;if(window.DOMParser){l=(new window.DOMParser).parseFromString(this._data,"text/xml")}else l=new window.ActiveXObject("Microsoft.XMLDOM"),l.async=!1,l.loadXML(this._data);var m;m=parseInt(l.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),m&&(a=m),m=parseInt(l.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),m&&(b=m),m=parseInt(l.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),m&&(c=1==m),l.getElementsByTagName("trackingDisabled")[0]&&(m=parseInt(l.getElementsByTagName("trackingDisabled")[0].childNodes[0].nodeValue,10),j=1==m),l.getElementsByTagName("nielsenEnabled")[0]?(m=parseInt(l.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10),k=1==m):k=!0;var n={};return n[e]=a,n[f]=b,n[g]=c,n[i]=j,n[h]=k,this._logger.debug(d,"#parse() > Obtained configuration settings."),n};var d="ah::SettingsParser",e="reporting_interval",f="check_status_interval",g="track_external_errors",h="nielsen_enabled",i="tracking_disabled";b.network.SettingsParser=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._serializer=new i(b),this._installEventListeners()}var d=a.Event,e=a.URLRequestMethod,f=a.URLRequest,g=a.URLLoader,h=b.network.SettingsParser,i=b.model.QuerystringSerializer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(j,"#destroy()"),this._uninstallEventListeners())},c.prototype._onApiConfig=function(a){var b=a.data;this._logger.debug(j,"#_onApiConfig(sb_server="+b[k]+", check_status_server="+b[l]+", publisher="+b[m]+", quiet_mode="+b[n]+", ssl="+b[o]+")"),this._trackingServer=this._updateRequestProtocol(b[k],b[o]),this._checkStatusServer=this._updateRequestProtocol(b[l],b[o]),this._publisher=b[m],this._quietMode=b[n],this._isConfigured=!0},c.prototype._onUpdateVisitorOptOut=function(a){var b=a.data;this._logger.debug(j,"#_onUpdateVisitorOptOut(visitor_opt_out="+b[q]+")"),this._visitorOptedOut=b[q]},c.prototype._onFilterReportAvailable=function(a){var b=a.data;if(!this._isConfigured)return void this._logger.warn(j,"#_onFilterReportAvailable() > Unable to send request: not configured.");var c=b[p],h=this._serializer.serializeReport(c),i=this._trackingServer+"/?"+h.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&c.eventData&&this._prevReportSent.eventData.playhead==c.eventData.playhead&&this._prevReportSent.eventData.ts==c.eventData.ts&&this._prevReportSent.eventData.prevTs==c.eventData.prevTs&&this._prevReportSent.eventData.type==c.eventData.type)return void this._logger.debug(j,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\n"+i);this._prevReportSent=c;var k=new f(i,e.GET);this._logger.debug(j,"#_onFilterReportAvailable() > "+k.url);var l=this,m=function(a){o.close(),h.callback&&h.callback.call(null)},n=function(a){o.close(),l._logger.warn(j,"#_onFilterReportAvailable() > Failed to send heartbeat report."),h.callback&&h.callback.call(null)};if(!this._quietMode&&!this._visitorOptedOut){var o=new g;o.addEventListener(d.SUCCESS,m,this),o.addEventListener(d.ERROR,n,this),o.load(k)}},c.prototype._onClockCheckStatusTick=function(a){function b(a){if(a.data){var b=new h(a.data.response,i._logger),c=b.parse();c?i._channel.trigger(new d(v,c)):i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}n.close()}function c(a){i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),n.close()}if(!this._isConfigured)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Unable to send request: not configured.");if(!this._publisher)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Publisher is NULL.");var i=this,k=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),l=this._checkStatusServer+k+".xml?r="+(new Date).getTime(),m=new f(l,e.GET),n=new g;n.addEventListener(d.SUCCESS,b,this),n.addEventListener(d.ERROR,c,this),this._logger.debug(j,"#_onClockCheckStatusTick() > Get new settings from: "+l),n.load(m)},c.prototype._updateRequestProtocol=function(a,b){var c=a;return 0===c.indexOf("http://")?c=c.slice(7):0===c.indexOf("https://")&&(c=c.slice(8)),b?"https://"+c:"http://"+c},c.prototype._installEventListeners=function(){this._channel.on(r,this._onApiConfig,this),this._channel.on(s,this._onUpdateVisitorOptOut,this),this._channel.on(t,this._onFilterReportAvailable,this),this._channel.on(u,this._onClockCheckStatusTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var j="ah::Network",k="tracking_server",l="check_status_server",m="publisher",n="quiet_mode",o="ssl",p="report",q="visitor_opt_out",r="api:config",s="api:update_visitor_optout",t="filter:data_available",u="clock:check_status.tick",v="net:check_status_complete";b.network.Network=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new i,this._installEventListeners()}function d(a){var b=[];return a&&a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_PAUSE||a.eventData.type()==k.EVENT_TYPE_STALL||a.eventData.type()==k.EVENT_TYPE_BUFFER?(!a.filterReport||a.eventData.duration()>u)&&b.push(a):b.push(a)}),b}function e(a){var b=-1,c=-1,d=[];return a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_START?a.assetData.type()==l.TYPE_MAIN_CONTENT?-1==b?b=d.push(a)-1:(a.eventData.prevTs(-1),d[b]=a):-1==c?c=d.push(a)-1:(a.eventData.prevTs(-1),d[c]=a):d.push(a)}),d}function f(a){var b=[];return a.forEach(function(c){if(c.eventData.type()==k.EVENT_TYPE_PLAY){if(c.eventData.duration()>t)b.push(c);else if(0==c.eventData.duration()&&c.assetData.type()==l.TYPE_MAIN_CONTENT){var d=g(a);d.indexOf(c)==d.length-1&&b.push(c)}}else b.push(c)}),b}function g(a){var b=[];return a.forEach(function(a){a.eventData.type()!=k.EVENT_TYPE_PLAY&&a.eventData.type()!=k.EVENT_TYPE_BUFFER&&a.eventData.type()!=k.EVENT_TYPE_START||b.push(a)}),b}var h=a.radio.Command,i=a.radio.CommandQueue,j=a.Event,k=b.model.EventDao,l=b.model.AssetDao;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners(),this.clear())},c.prototype.clear=function(){this._logger.debug(w,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},c.prototype.flush=function(){this._workQueue.addCommand(new h(this._flushBufferReport,this))},c.prototype._bufferReport=function(a){if(!this._isDestroyed){var b=a[q];if(b){var c=b.sessionData.sessionId();this._reportBuffer[c]=this._reportBuffer[c]||[],this._reportBuffer[c].push(b)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var d={};d[p]=!0,d[r]=1,this._channel.command(s,d)}}},c.prototype._flushBufferReport=function(){function a(a){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=d.sessionData.sessionId();b._tsHistory[e]=b._tsHistory[e]||{};var f=d.eventData.type()+"."+(d.assetData.type()==l.TYPE_AD?d.assetData.adData().adId():d.assetData.videoId());b._tsHistory[e].hasOwnProperty(f)&&d.eventData.prevTs(b._tsHistory[e][f]),b._tsHistory[e][f]=d.eventData.ts()}}if(!this._isDestroyed){var b=this;for(var c in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(c)){var g=f(e(d(this._reportBuffer[c])));a(g);for(var h=0;h<g.length;h++){var i=g[h],k={};k[q]=i,this._channel.trigger(new j(n,k))}}this._reportBuffer={};var m=this._channel.request(v),o=this._tsHistory[m]||{};this._tsHistory={},this._tsHistory[m]=o,this._isBufferingInProgress=!1}},c.prototype._onContextReportAvailable=function(a){var b=a.data;this._workQueue.addCommand(new h(this._bufferReport,this,[b]))},c.prototype._onClockFlushFilterTick=function(a){this.flush()},c.prototype._installEventListeners=function(){this._channel.on(m,this._onContextReportAvailable,this),this._channel.on(o,this._onClockFlushFilterTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var m="context:report_available",n="filter:data_available",o="clock:flush_filter.tick",p="reset",q="report",r="repeat_count",s="clock:flush_filter.resume",t=250,u=250,v="session_id",w="ah::ReportFilter";b.filter.ReportFilter=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!a.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof a.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(a.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!a.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===a.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!a.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!a.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof a.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(a.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!a.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof a.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(a.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!a.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof a.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(a.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.context.InputDataValidator=c}(a.ADB.va,b),function(a,b){"use strict";function c(a,b){if(!b)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=b,!a)throw new Error("Reference to the context object cannot be NULL");this._context=a}var d=b.model.Report;c.prototype.createReportForItem=function(a){return this._logger.debug(e,"Creating report for item: "+a.eventData.type()),new d(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,a)};var e="ah::ReportFactory";b.context.ReportFactory=c}(a.ADB.core,b),function(a,b,c,d){"use strict";function e(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._stashedMainMetadata=null,this._autoComputedStartupTime=0,this._reportingInterval=ma,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new j,this._serviceProviderData=new k,this._userData=new l,this._aamData=new m,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new u(this,this._logger),this._inputDataValidator=new v(function(a){this._logger.error(w,a.getMessage()+" | "+a.getDetails()),this._channel.trigger(new h(y,a))},this),this._trackExternalErrors=!0,this._installEventListeners()}var f=c.md5,g=c.ObjectUtils,h=a.Event,i=d.model.SessionDao,j=d.model.AdobeAnalyticsDao,k=d.model.ServiceProviderDao,l=d.model.UserDao,m=d.model.AudienceManagerDao,n=d.model.EventDao,o=d.model.AssetDao,p=d.model.StreamDao,q=d.model.QoSDao,r=d.model.AdDao,s=d.model.ChapterDao,t=d.model.TrackItem,u=d.context.ReportFactory,v=d.context.InputDataValidator;e.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners())},e.prototype._onApiAnalyticsStart=function(a){this._logger.debug(w,"#_onApiAnalyticsStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._userData.visitorId(b.vid),this._userData.analyticsVisitorId(b.aid),this._userData.marketingCloudVisitorId(b.mid),this._aamData.audienceManagerBlob(b.blob),this._aamData.audienceManagerLocationHint(b.loc_hint),b.customerIDs&&(this._cuserData=b.customerIDs),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_START,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(c)}},e.prototype._onApiAnalyticsAdStart=function(a){this._logger.debug(w,"#_onApiAnalyticsAdStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_AD_START,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoLoad=function(a){var b=a.data;this._logger.debug(w,"#_onApiVideoLoad(rsid="+b.rsid+", aa_trackingServer="+b.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(b,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},e.prototype._onApiVideoUnload=function(a){if(this._logger.debug(w,"#_onApiVideoUnload()"),!this._isTrackingSessionActive)return void this._logger.debug(w,"#_onApiVideoUnload() > No active tracking session.");this._isTrackingSessionActive=!1},e.prototype._onApiVideoStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoStart(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._lastInBandItem=null,this._stashedLastInBandItem=null,this._adobeAnalyticsData.reportSuiteId(b.rsid),this._adobeAnalyticsData.trackingServer(b.trackingServer),this._adobeAnalyticsData.ssl(Number(b.useSsl)),this._serviceProviderData.ovp(b.ovp),this._serviceProviderData.sdk(b.sdk),this._serviceProviderData.channel(b.channel),this._serviceProviderData.libVersion(b.version),this._serviceProviderData.apiLevel(b.apiLvl),this._serviceProviderData.playerName(b.playerName),this._assetData.adData(null),this._assetData.chapterData(null),this._assetData.videoId(b.videoId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.publisher(b.publisher),this._assetData.name(b.videoName),this._streamData.type(b.streamType),this._updateQoSInfo(b);var c=b.metaNielsen?g.merge(b.metaVideo,b.metaNielsen):b.metaVideo,d=new t(this,n.EVENT_TYPE_START,b.playhead,c,b._eventData[E]);this._sendHit(d)}},e.prototype._onApiVideoResume=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoResume(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._assetData.videoId(b.videoId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.name(b.videoName),this._streamData.type(b.streamType);var c=new t(this,n.EVENT_TYPE_RESUME,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoSessionEnd=function(a){this._logger.debug(w,"#_onApiVideoSessionEnd()");var b=a.data;if(this._checkCall("_onApiVideoSessionEnd")&&this._inputDataValidator.validateFields(b,["playhead"])){var c=new t(this,n.EVENT_TYPE_END,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c)}},e.prototype._onApiVideoComplete=function(a){this._logger.debug(w,"#_onApiVideoComplete()");var b=a.data;if(this._checkCall("_onApiVideoComplete")){var c=new t(this,n.EVENT_TYPE_COMPLETE,this._assetData.length(),null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiVideoSkip=function(a){this._logger.debug(w,"#_onApiVideoSkip()");var b=a.data;if(this._checkCall("_onApiVideoSkip")){var c=new t(this,n.EVENT_TYPE_SKIP,b.playhead,null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiPlay=function(a){this._logger.debug(w,"#_onApiPlay()");var b=a.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_PLAY,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiPause=function(a){this._logger.debug(w,"#_onApiPause()");var b=a.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=b.playheadStalled?n.EVENT_TYPE_STALL:n.EVENT_TYPE_PAUSE,d=new t(this,c,b.playhead,null,b._eventData[E]);b._eventData.hasOwnProperty(F)&&(d.filterReport=b._eventData[F]),this._sendHit(d)}},e.prototype._onApiBufferStart=function(a){this._logger.debug(w,"#_onApiBufferStart()");var b=a.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BUFFER,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiAdBreakStart=function(a){this._logger.debug(w,"#_onApiAdBreakStart()");var b=a.data;this._checkCall("_onApiAdBreakStart")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._flushLastInbandItem(b),this._updateLastInbandItemToBuffering())},e.prototype._onApiAdBreakComplete=function(a){this._logger.debug(w,"#_onApiAdBreakComplete()");var b=a.data;this._checkCall("_onApiAdBreakComplete")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._flushLastInbandItem(b),this._restoreLastInbandItem())},e.prototype._onApiAdStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiAdStart(id="+b.adId+", player_name="+b.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+b.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(b,["playhead","podPosition","podPlayerName","adId","adPosition"])){var c=new r;c.adId(b.adId),c.adName(b.adName),c.adLength(b.adLength),c.resolver(b.podPlayerName),c.podId(f(this._assetData.videoId())+"_"+b.podPosition),c.podPosition(b.adPosition+""),c.podName(b.podName),c.podOffset(b.podSecond),c.sid(this._generateSessionId()),this._assetData.adData(c),this._assetData.type(o.TYPE_AD),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaAd);d=b.metaNielsen?g.merge(d,b.metaNielsen):d,d=b.metaAdNielsen?g.merge(d,b.metaAdNielsen):d;var e=new t(this,n.EVENT_TYPE_START,b.playhead,d,b._eventData[E]);this._sendHit(e),this._restoreLastInbandItem();if(!!b.adGranularTracking){var h=b.adTrackingInterval?b.adTrackingInterval:this._reportingInterval;this._updateReportingInterval(h,!0)}}},e.prototype._onApiAdComplete=function(a){this._logger.debug(w,"#_onApiAdComplete()");var b=a.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_COMPLETE,b.playhead,null,b._eventData[E]);this._sendHit(c),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},e.prototype._onApiAdSkip=function(a){this._logger.debug(w,"#_onApiAdSkip()");var b=a.data;if(this._checkCall("_onApiAdSkip")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdSkip() > Ignoring the ad skip event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_SKIP,b.playhead,null,b._eventData[E]);this._sendHit(c),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},e.prototype._onApiChapterStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiChapterStart(name="+b.chapterName+", length="+b.chapterLength+", position="+b.chapterPosition+", chapter_offset="+b.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(b,["playhead","chapterPosition","chapterOffset","chapterLength"])){var c=new s;c.id(f(this._assetData.videoId())+"_"+b.chapterPosition),c.name(b.chapterName),c.length(b.chapterLength),c.position(b.chapterPosition),c.offset(b.chapterOffset),c.sid(this._generateSessionId()),this._assetData.chapterData(c),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaChapter),e=new t(this,n.EVENT_TYPE_CHAPTER_START,b.playhead,d,b._eventData[E]);e.assetData.adData(null),e.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(e)}},e.prototype._onApiChapterComplete=function(a){this._logger.debug(w,"#_onApiChapterComplete()");var b=a.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_COMPLETE,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiChapterSkip=function(a){this._logger.debug(w,"#_onApiChapterSkip()");var b=a.data;if(this._checkCall("_onApiChapterSkip")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterSkip() > Ignoring the chapter skip event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_SKIP,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiBitrateChange=function(a){this._logger.debug(w,"#_onApiBitrateChange()");var b=a.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BITRATE_CHANGE,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiTrackError=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiTrackError(source="+b._eventData.source+", err_id="+b._eventData.error_id+")"),!this._isTrackingSessionActive)return void this._logger.warn(w,"#_onApiTrackError() > No active tracking session.");if(this._trackExternalErrors||b._eventData.source===x){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0,null,b._eventData[E]);c.eventData.id(b._eventData.error_id),c.eventData.source(b._eventData.source),this._sendHit(c)}},e.prototype._onApiTrackInternalError=function(a){var b=a.data;this._logger.debug(w,"#_onApiTrackInternalError(source="+b.source+", err_id="+b.error_id+")"),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0);c.eventData.id(b.error_id),c.eventData.source(b.source),this._sendHit(c)},e.prototype._onApiQuantumEnd=function(a){this._logger.debug(w,"#_onApiQuantumEnd(interval="+this._channel.request(B)+")");var b=a.data;if(this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(b,["playhead"])){var c=this._lastInBandItem;if(c){this._updateQoSInfo(b);var d=new t(this,c.eventData.type(),b.playhead,c.meta,c.callback);d.filterReport=c.filterReport,this._sendHit(d,!0)}}},e.prototype._onNetworkCheckStatusComplete=function(a){var b=a.data;this._trackExternalErrors=b[I],this._reportingInterval=b[J],this._reportingInterval||(this._reportingInterval=ma),this._logger.debug(w,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},e.prototype._onResetSessionId=function(a){var b=this._generateSessionId();this._sessionData=new i,this._sessionData.sessionId(b),this._logger.debug(w,"#_resetSessionId(new sessionId="+b+")")},e.prototype._installEventListeners=function(){this._channel.on(L,this._onApiAnalyticsStart,this),this._channel.on(M,this._onApiAnalyticsAdStart,this),this._channel.on(N,this._onApiVideoLoad,this),this._channel.on(O,this._onApiVideoUnload,this),this._channel.on(P,this._onApiVideoStart,this),this._channel.on(Q,this._onApiVideoComplete,this),this._channel.on(R,this._onApiVideoSkip,this),this._channel.on(S,this._onApiVideoResume,this),this._channel.on(T,this._onApiVideoSessionEnd,this),this._channel.on(U,this._onApiAdBreakStart,this),this._channel.on(V,this._onApiAdBreakComplete,this),this._channel.on(W,this._onApiAdStart,this),this._channel.on(X,this._onApiAdComplete,this),this._channel.on(Y,this._onApiAdSkip,this),this._channel.on(Z,this._onApiPlay,this),this._channel.on($,this._onApiPause,this),this._channel.on(_,this._onApiBufferStart,this),this._channel.on(aa,this._onApiChapterStart,this),this._channel.on(ba,this._onApiChapterComplete,this),this._channel.on(ca,this._onApiChapterSkip,this),this._channel.on(fa,this._onApiBitrateChange,this),this._channel.on(da,this._onApiTrackError,this),this._channel.on(ea,this._onApiTrackInternalError,this),this._channel.on(ga,this._onApiQuantumEnd,this),this._channel.on(ia,this._onNetworkCheckStatusComplete,this),this._channel.on(D,this._onResetSessionId,this),this._channel.reply(C,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},e.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},e.prototype._resetInternalState=function(){this._logger.debug(w,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._streamData=new p,this._qosData=new q,this._sessionData=new i,this._assetData=new o,this._cuserData=null},e.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},e.prototype._updateQoSInfo=function(a){this._qosData.bitrate(a.bitrate||0),this._qosData.fps(a.fps||0),this._qosData.droppedFrames(a.droppedFrames||0),null==a.startupTime||isNaN(a.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(a.startupTime),this._qosData.isStartupTimeOverridden=!0)},e.prototype._checkCall=function(a){return this._isTrackingSessionActive?!this._isVideoComplete||"_onApiVideoSessionEnd"===a||(this._logger.warn(w,"#"+a+"() > The video content already completed."),!1):(this._logger.warn(w,"#"+a+"() > No active tracking session."),!1)},e.prototype._updateReportingInterval=function(a,b){var c={};c[K]=!!b,c[J]=a,this._channel.trigger(new h(ja,c))},e.prototype._updateLastInBandItem=function(a){var b=this._lastInBandItem,c=(new Date).getTime(),d=b.assetData.type()===o.TYPE_AD||a.assetData.type()===o.TYPE_AD,e=1e3*Math.abs(a.eventData.playhead()-b.eventData.playhead()),f=Math.abs(c-b.eventData.ts()),g=Math.abs(e-f),h=f;h>ka?(this._logger.warn(w," Resetting duration in lastInBandItem["+b.assetData.type()+":"+b.eventData.type()+"] call to 0 as calculated duration ("+h+")exceeds 10mins"),h=0):b.eventData.type()==n.EVENT_TYPE_PLAY&&!d&&!this._doNotOverrideEventDuration&&g>la&&(h=Math.min(e,f),this._logger.warn(w," Resetting duration in lastInBandItem["+b.assetData.type()+":"+b.eventData.type()+"] call to "+h+" as calculated error delta ("+g+")exceeds 2sec")),this._doNotOverrideEventDuration=!1,b.eventData.duration(h),b.eventData.ts(c),b.eventData.playhead(a.eventData.playhead()),b.qosData.startupTime(a.qosData.startupTime()),b.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden},e.prototype._updateLastInbandItemToBuffering=function(){this._stashedLastInBandItem=this._lastInBandItem;var a=0;null!=this._lastInBandItem&&(this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&(this._stashedMainMetadata=this._lastInBandItem.meta),a=this._lastInBandItem.eventData.playhead());var b=new t(this,n.EVENT_TYPE_BUFFER,a,null,null);b.assetData.adData(null),b.assetData.type(o.TYPE_MAIN_CONTENT),this._lastInBandItem=b},e.prototype._restoreLastInbandItem=function(){if(null!=this._stashedLastInBandItem){var a=null;this._stashedLastInBandItem.eventData.type()==n.EVENT_TYPE_START&&(this._lastInBandItem.assetData.type()==o.TYPE_AD?a=this._lastInBandItem.meta:(a=this._stashedMainMetadata,this._stashedMainMetadata=null));var b=new t(this,this._stashedLastInBandItem.eventData.type(),this._stashedLastInBandItem.eventData.playhead(),a,this._stashedLastInBandItem.callback);b.filterReport=this._stashedLastInBandItem.filterReport,this._lastInBandItem=b,this._stashedLastInBandItem=null}},e.prototype._flushLastInbandItem=function(a){if(this._lastInBandItem){this._updateQoSInfo(a);var b=new t(this,this._lastInBandItem.eventData.type(),a.playhead,this._lastInBandItem.meta,this._lastInBandItem.callback);this._sendHit(b,!0)}},e.prototype._createAndSendReport=function(a){var b=this._reportFactory.createReportForItem(a);b.qosData.isStartupTimeOverridden||b.qosData.startupTime(this._autoComputedStartupTime);var c={};if(c[G]=b,this._channel.trigger(new h(ha,c)),b.eventData.type()==n.EVENT_TYPE_START||b.eventData.type()==n.EVENT_TYPE_PLAY||b.eventData.type()==n.EVENT_TYPE_PAUSE||b.eventData.type()==n.EVENT_TYPE_STALL||b.eventData.type()==n.EVENT_TYPE_BUFFER){var d={};d[H]=!0,this._channel.command(z,d)}},e.prototype._sendHit=function(a,b){switch(a.eventData.type()){case n.EVENT_TYPE_START:case n.EVENT_TYPE_PLAY:case n.EVENT_TYPE_PAUSE:case n.EVENT_TYPE_STALL:case n.EVENT_TYPE_BUFFER:this._lastInBandItem?(this._updateLastInBandItem(a),this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),this._createAndSendReport(this._lastInBandItem),b&&this._lastInBandItem.eventData.type()==a.eventData.type()||this._createAndSendReport(a)):this._createAndSendReport(a),this._lastInBandItem=a;break;case n.EVENT_TYPE_COMPLETE:case n.EVENT_TYPE_SKIP:if(this._lastInBandItem&&(this._updateLastInBandItem(a),this._createAndSendReport(this._lastInBandItem)),a.eventData.type()!==n.EVENT_TYPE_SKIP&&this._createAndSendReport(a),a.assetData.type()==o.TYPE_MAIN_CONTENT){this._lastInBandItem=null,this._stashedLastInBandItem=null;var c={};c[H]=!0,this._channel.command(A,c)}else a.assetData.type()==o.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(o.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case n.EVENT_TYPE_CHAPTER_START:case n.EVENT_TYPE_CHAPTER_COMPLETE:case n.EVENT_TYPE_CHAPTER_SKIP:this._lastInBandItem&&(this._updateLastInBandItem(a),this._createAndSendReport(this._lastInBandItem)),a.eventData.type()!==n.EVENT_TYPE_CHAPTER_SKIP&&this._createAndSendReport(a),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(a.eventData.type()==n.EVENT_TYPE_CHAPTER_START?new s(a.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),this._createAndSendReport(this._lastInBandItem));break;default:this._createAndSendReport(a)}};var w="ah::Context",x="sourceErrorSDK",y="error",z="clock:reporting.resume",A="clock:reporting.pause",B="reporting_interval",C="session_id",D="reset_session_id",E="callback",F="filter_report",G="report",H="reset",I="track_external_errors",J="reporting_interval",K="do_not_override_interval",L="api:aa_start",M="api:aa_ad_start",N="api:video_load",O="api:video_unload",P="api:video_start",Q="api:video_complete",R="api:video_skip",S="api:video_resume",T="api:video_session_end",U="api:adbreak_start",V="api:adbreak_complete",W="api:ad_start",X="api:ad_complete",Y="api:ad_skip",Z="api:play",$="api:pause",_="api:buffer_start",aa="api:chapter_start",ba="api:chapter_complete",ca="api:chapter_skip",da="api:track_error",ea="api:track_internal_error",fa="api:bitrate_change",ga="api:quantum_end",ha="context:report_available",ia="net:check_status_complete",ja="reporting:update_interval",ka=6e5,la=2e3,ma=10;d.context.Context=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";function b(a,b){this.trackingServer=a,this.publisher=b,this.ssl=!1,this.ovp=c,this.sdk=c,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var c="unknown";a.AdobeHeartbeatPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},b.prototype.onTrackingDisabled=function(){},a.AdobeHeartbeatPluginDelegate=b}(b),function(a,b,c){"use strict";function d(a){d.__super__.constructor.call(this,q),this._radio=new i(this._logger),this._channel=this._radio.channel(y),this._delegate=a,this._context=new l(this._channel,this._logger),this._filter=new m(this._channel,this._logger),this._network=new n(this._channel,this._logger),this._setupDataResolver()}var e=a.Event,f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Radio,j=b.ErrorInfo,k=b.Version,l=c.context.Context,m=c.filter.ReportFilter,n=c.network.Network,o=c.clock.Clock,p=c.AdobeHeartbeatPluginConfig;a.extend(d,g),d.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var b=this._config.trackingServer+"/settings/",c={};c[ia]=this._config.trackingServer,c[ja]=b,c[ka]=this._config.publisher,c[la]=this._config.quietMode,c[ma]=this._config.ssl,this._channel.trigger(new e(sa,c)),this._isConfigured=!0},d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._channel.on(z,this._onError,this),this._clock=new o(this._pluginManager,this._channel,this._logger),this._channel.command(Ra),this._channel.trigger(new e(Ya)),this._channel.on(pa,this._onCheckStatusComplete,this),this._registerCommands(),this._registerBehaviours()},d.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},d.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):d.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},d.prototype._cmdAnalyticsError=function(a){this._errorInfo||(this._errorInfo=new j("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},d.prototype._cmdAnalyticsStart=function(a){if(this._canProcess()){var b={};b[na]=a.visitorOptedOut,this._channel.trigger(new e(ta,b)),this._channel.trigger(new e(qa,a))}},d.prototype._cmdAnalyticsAdStart=function(a){this._canProcess()&&this._channel.trigger(new e(ra,a))},d.prototype._cmdVideoLoad=function(a){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new e(va,a)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new e(ua,a)),this._isTrackingSessionActive=!0)},d.prototype._cmdVideoUnload=function(a){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new e(va,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},d.prototype._cmdVideoSessionEnd=function(a){this._canProcess()&&this._channel.trigger(new e(Aa,a))},d.prototype._cmdVideoStart=function(a){this._canProcess()&&(this._channel.trigger(new e(wa,a)),this._filter.flush())},d.prototype._cmdVideoComplete=function(a){this._canProcess()&&this._channel.trigger(new e(xa,a))},d.prototype._cmdVideoSkip=function(a){this._canProcess()&&this._channel.trigger(new e(ya,a))},d.prototype._cmdVideoResume=function(a){this._canProcess()&&this._channel.trigger(new e(za,a))},d.prototype._cmdPlay=function(a){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdPause=function(a){this._canProcess()&&(this._channel.trigger(new e(Ha,a)),this._isPaused=!0,this._runIdleTimer(!0))},d.prototype._cmdAdBreakStart=function(a){this._canProcess()&&this._channel.trigger(new e(Ba,a))},d.prototype._cmdAdBreakComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(Ca,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdStart=function(a){this._canProcess()&&(this._channel.trigger(new e(Da,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdComplete=function(a){this._canProcess()&&this._channel.trigger(new e(Ea,a))},d.prototype._cmdAdSkip=function(a){this._canProcess()&&this._channel.trigger(new e(Fa,a))},d.prototype._cmdBufferStart=function(a){this._canProcess()&&(this._channel.trigger(new e(Ia,a)),this._isBuffering=!0,this._runIdleTimer(!0))},d.prototype._cmdBufferComplete=function(a){this._canProcess()&&(this._isBuffering=!1,this._isPaused?this._channel.trigger(new e(Ha,a)):this._resumePlaybackIfPossible(a))},d.prototype._cmdSeekStart=function(a){this._canProcess()&&(this._channel.trigger(new e(Ha,a)),this._isSeeking=!0,this._runIdleTimer(!0))},d.prototype._cmdSeekComplete=function(a){this._canProcess()&&(this._isSeeking=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdChapterStart=function(a){this._canProcess()&&this._channel.trigger(new e(Ja,a))},d.prototype._cmdChapterComplete=function(a){this._canProcess()&&this._channel.trigger(new e(Ka,a))},d.prototype._cmdChapterSkip=function(a){this._canProcess()&&this._channel.trigger(new e(La,a))},d.prototype._cmdBitrateChange=function(a){this._canProcess()&&this._channel.trigger(new e(Oa,a))},d.prototype._cmdTrackError=function(a){this._canProcess()&&this._channel.trigger(new e(Ma,a))},d.prototype._cmdClockReportingTick=function(a){this._canProcess()&&this._channel.trigger(new e(Pa,a))},d.prototype._onCheckStatusComplete=function(a){if(this._canProcess()){var b=!1;a&&a.data&&a.data[oa]&&(b=a.data[oa]),this._logger.debug(this._logTag,"#_onCheckStatusComplete(trackingDisabled="+b+")"),b&&this._delegate&&this._delegate.onTrackingDisabled()}},d.prototype._cmdIdleTick=function(a){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(aa),this._channel.trigger(new e(Aa,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger($))},d.prototype._onError=function(a){this._errorInfo=a.data;var b={};b[ga]=Qa,b[ha]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new e(Na,b)),this._runReportingTimer(!1),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},d.prototype._runIdleTimer=function(a){var b={};b[fa]=!0,a?this._channel.command(Wa,b):this._channel.command(Xa,b)},d.prototype._runFlushFilterTimer=function(a){var b={};b[fa]=!0,a?this._channel.command(Ua,b):this._channel.command(Va,b)},d.prototype._runReportingTimer=function(a){var b={};b[fa]=!0,a?this._channel.command(Sa,b):this._channel.command(Ta,b)},d.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoSessionEnd",this._cmdVideoSessionEnd),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoSkip",this._cmdVideoSkip),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdBreakStart",this._cmdAdBreakStart),this._pluginManager.comply(this,"handleAdBreakComplete",this._cmdAdBreakComplete),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleAdSkip",this._cmdAdSkip),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleChapterSkip",this._cmdChapterSkip),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},d.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(t,C),this,"handleVideoLoad",[new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new f(t,D),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new f(t,E),this,"handleVideoSessionEnd",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,F),this,"handleVideoStart",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"ssl","useSsl"),new h(u,"meta","metaNielsen"),new h(r,"publisher","publisher"),new h(r,"sdk","sdk"),new h(r,"ovp","ovp"),new h(r,"version","version"),new h(r,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new f(t,H),this,"handleVideoComplete",[new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,I),this,"handleVideoSkip",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,G),this,"handleVideoResume",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new f(t,J),this,"handlePlay",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,K),this,"handlePause",[new h(t,"video.playhead","playhead"),new h(t,"video.playheadStalled","playheadStalled"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,M),this,"handleAdBreakStart",[new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,N),this,"handleAdBreakComplete",[new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,O),this,"handleAdStart",[new h(t,"video.playhead","playhead"),new h(t,"ad.id","adId"),new h(t,"ad.name","adName"),new h(t,"ad.length","adLength"),new h(t,"ad.position","adPosition"),new h(t,"ad.granularTracking","adGranularTracking"),new h(t,"ad.trackingInterval","adTrackingInterval"),new h(t,"pod.name","podName"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"pod.startTime","podSecond"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(u,"meta","metaNielsen"),new h(u,"metaAd","metaAdNielsen")]),this._pluginManager.registerBehaviour(new f(t,P),this,"handleAdComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,Q),this,"handleAdSkip",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,R),this,"handleBufferStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,S),this,"handleBufferComplete",[new h(t,"video.playhead","playhead"),new h(t,"video.playheadStalled","playheadStalled"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,T),this,"handleSeekStart",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,U),this,"handleSeekComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAd","isInAd"),new h(t,"ad.id","adId"),new h(t,"ad.position","adPosition"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"chapter.isInChapter","isInChapter"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,V),this,"handleChapterStart",[new h(t,"video.playhead","playhead"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.chapter.*","metaChapter"),new h(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(t,W),this,"handleChapterComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,X),this,"handleChapterSkip",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,Y),this,"handleBitrateChange",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,Z),this,"handleTrackError"),this._pluginManager.registerBehaviour(new f(v,ca),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,L),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(v,ea),this,"handleIdleTick",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(r,aa),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,z),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new f(s,A),this,"handleAnalyticsStart",[new h(s,"vid","vid"),new h(s,"aid","aid"),new h(s,"mid","mid"),new h(s,"customerIDs","customerIDs"),new h(s,"visitorOptedOut","visitorOptedOut"),new h(s,"blob","blob"),new h(s,"loc_hint","loc_hint"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,B),this,"handleAnalyticsAdStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")])},d.prototype._setupDataResolver=function(){var a={},b=this;a.version=function(){return k.getVersion()},a.api_level=function(){return k.getApiLevel()},a.tracking_server=function(){return b._config?b._config.trackingServer:null},a.publisher=function(){return b._config?b._config.publisher:null},a.quiet_mode=function(){return!!b._config&&b._config.quietMode},a.ovp=function(){return b._config?b._config.ovp:null},a.sdk=function(){return b._config?b._config.sdk:null},a.is_primetime=function(){return!!b._config&&b._config.__isPrimetime},a.psdk_version=function(){return b._config?b._config.__psdkVersion:null},a.session_id=function(){return b._channel.request(w)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},d.prototype._resumePlaybackIfPossible=function(a){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle?(this._isVideoIdle=!1,this._resumePlaybackFromIdle()):this._channel.trigger(new e(Ga,a)),this._runIdleTimer(!1))},d.prototype._resumePlaybackFromIdle=function(){this._trigger(aa),this._filter.clear(),this._channel.trigger(new e(x)),this._trigger(_),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var q="adobe-heartbeat",r=q,s="adobe-analytics",t="player",u="nielsen",v="service.clock",w="session_id",x="reset_session_id",y="heartbeat-channel",z="error",A="aa_start",B="sc_ad_start",C="video_load",D="video_unload",E="video_session_end",F="video_start",G="video_resume",H="video_complete",I="video_skip",J="play",K="pause",L="content_start",M="adbreak_start",N="adbreak_complete",O="ad_start",P="ad_complete",Q="ad_skip",R="buffer_start",S="buffer_complete",T="seek_start",U="seek_complete",V="chapter_start",W="chapter_complete",X="chapter_skip",Y="bitrate_change",Z="track_error",$="video_idle_start",_="video_idle_resume",aa="quantum_close",ba="heartbeat.reporting",ca=ba+".tick",da="heartbeat.idle",ea=da+".tick",fa="reset",ga="source",ha="error_id",ia="tracking_server",ja="check_status_server",ka="publisher",la="quiet_mode",ma="ssl",na="visitor_opt_out",oa="tracking_disabled",pa="net:check_status_complete",qa="api:aa_start",ra="api:aa_ad_start",sa="api:config",ta="api:update_visitor_optout",ua="api:video_load",va="api:video_unload",wa="api:video_start",xa="api:video_complete",ya="api:video_skip",za="api:video_resume",Aa="api:video_session_end",Ba="api:adbreak_start",Ca="api:adbreak_complete",Da="api:ad_start",Ea="api:ad_complete",Fa="api:ad_skip",Ga="api:play",Ha="api:pause",Ia="api:buffer_start",Ja="api:chapter_start",Ka="api:chapter_complete",La="api:chapter_skip",Ma="api:track_error",Na="api:track_internal_error",Oa="api:bitrate_change",Pa="api:quantum_end",Qa="sourceErrorHeartbeat",Ra="clock:check_status.resume",Sa="clock:reporting.resume",Ta="clock:reporting.pause",Ua="clock:flush_filter.resume",Va="clock:flush_filter.pause",Wa="clock:idle.resume",Xa="clock:idle.pause",Ya="clock:check_status.get_settings";c.AdobeHeartbeatPlugin=d}(a.ADB.core,a.ADB.va,b),a.ADB.va.plugins.ah||(a.ADB.va.plugins.ah=b)}(this);

                    // AdobeAnalyticsPlugin
                    !function(a){if(void 0===b)var b={};!function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"mediaType":if(!a.hasOwnProperty("mediaType"))return this._fail("The media type for the main video must be specified.");if("string"!=typeof a.mediaType)return this._fail("The media type for the main video must be a String.");if(""===a.mediaType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!a.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof a.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(a.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.InputDataValidator=c}(a.ADB.va,b),function(a){"use strict";function b(){this.channel=c,this.debugLogging=!1}var c="";a.AdobeAnalyticsPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeAnalyticsPluginDelegate=b}(b),function(a,b,c,d){"use strict";function e(a,b){if(e.__super__.constructor.call(this,r),!a)throw new Error("The reference to the AppMeasurement object cannot be NULL.");if(a.unsupportedBrowser)throw new Error("AppMeasurement is not supported in current browser.");this._appMeasurement=a,this._delegate=b,this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new k(!0,w),this._inputDataValidator=new q(function(a){this._errorInfo=a,this._logger.error(this._logTag,a.getMessage()+" | "+a.getDetails());var b=this;setTimeout(function(){b._trigger(x,a),b._delegate&&b._delegate.onError(b._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Channel,j=a.radio.Command,k=a.radio.CommandQueue,l=b.ErrorInfo,m=c.md5,n=c.StringUtils,o=c.ObjectUtils,p=d.AdobeAnalyticsPluginConfig,q=d.InputDataValidator;a.extend(e,g),e.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},e.prototype.bootstrap=function(a){e.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},e.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),e.__super__.setup.call(this)},e.prototype.setVideoMetadata=function(a){this._videoMetadata=o.clone(a)},e.prototype.setAdMetadata=function(a){this._adMetadata=o.clone(a)},e.prototype.setChapterMetadata=function(a){this._chapterMetadata=o.clone(a)},e.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):e.__super__._canProcess.call(this)},e.prototype._cmdVideoLoad=function(a){this._errorInfo=null},e.prototype._cmdVideoStart=function(a){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpen,this,[a]))},e.prototype._cmdAdStart=function(a){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpenAd,this,[a]))},e.prototype._cmdHeartbeatPluginError=function(a){this._errorInfo||(this._errorInfo=new l("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(x,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},e.prototype._track=function(a){try{if(!this._appMeasurement.visitorOptedOut){var b=this._appMeasurement.linkTrackVars;this._appMeasurement.linkTrackVars="",this._appMeasurement.track(a),this._appMeasurement.linkTrackVars=b}}catch(a){this._logger.warn(this._logTag,"appMeasurement.track() call threw an exception.")}},e.prototype._executeOpen=function(a){if(this._logger.debug(this._logTag,"#_executeOpen(id="+a.videoId+", videoName="+a.videoName+", mediaType="+a.mediaType+", streamType="+a.streamType+", length="+a.videoLength+", playerName="+a.playerName+", channel="+a.channel+", isPrimetime="+a.isPrimetime+", sessionId="+a.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","mediaType","streamType","videoLength","playerName"])){var b={};for(var c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(b[c]=a.metaVideo[c]);if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(b[c]=a.metaNielsen[c]);b["a.contentType"]=a.streamType,b["a.media.name"]=a.videoId,b["a.media.friendlyName"]=a.videoName||"",b["a.media.length"]=Math.floor(a.videoLength)||"0",b["a.media.playerName"]=a.playerName,b["a.media.channel"]=a.channel||"",b["a.media.view"]=!0,b["a.media.vsid"]=a.sessionId;var d={};d.contextData=b,"audio"===a.mediaType?(d.pev3=A,d.ms_a="1"):d.pev3=y,d.pe=a.isPrimetime?D:C,this._track(d);var e=this;setTimeout(function(){e._trigger(G,a)},0)}},e.prototype._executeOpenAd=function(a){var b=m(a.videoId)+"_"+a.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+a.adId+", mediaType="+a.mediaType+", streamType="+a.streamType+", length="+a.adLength+", podPlayerName="+a.podPlayerName+", parentId="+a.videoId+", podId="+b+", parentPodPosition="+a.adPosition+", podSecond="+a.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","mediaType","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){a.podSecond=null==a.podSecond||isNaN(a.podSecond)?a.playhead:a.podSecond;var c,d={};for(c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(d[c]=a.metaVideo[c]);for(c in a.metaAd)a.metaAd.hasOwnProperty(c)&&(d[c]=a.metaAd[c]);if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(d[c]=a.metaNielsen[c]);d["a.contentType"]=a.streamType,d["a.media.name"]=a.videoId,d["a.media.playerName"]=a.playerName,d["a.media.channel"]=a.channel||"",d["a.media.vsid"]=a.sessionId,d["a.media.friendlyName"]=a.videoName||"",d["a.media.length"]=Math.floor(a.videoLength)||"0",d["a.media.ad.name"]=a.adId,d["a.media.ad.friendlyName"]=a.adName||"",d["a.media.ad.podFriendlyName"]=a.podName||"",d["a.media.ad.length"]=Math.floor(a.adLength)||"0",d["a.media.ad.playerName"]=a.podPlayerName,d["a.media.ad.pod"]=b,d["a.media.ad.podPosition"]=Math.floor(a.adPosition)||"0",d["a.media.ad.podSecond"]=Math.floor(a.podSecond)||"0",d["a.media.ad.view"]=!0;var e={};e.contextData=d,"audio"===a.mediaType?(e.pev3=B,e.ms_a="1"):e.pev3=z,e.pe=a.isPrimetime?F:E,this._track(e);var f=this;setTimeout(function(){f._trigger(H,a)},0)}},e.prototype._setupDataResolver=function(){var a={},b=this;a.rsid=function(){return b._appMeasurement.account},a.tracking_server=function(){return b._appMeasurement.ssl&&b._appMeasurement.trackingServerSecure?b._appMeasurement.trackingServerSecure:b._appMeasurement.trackingServer},a.ssl=function(){return b._appMeasurement.ssl},a.vid=function(){return b._appMeasurement.visitorID},a.aid=function(){return b._appMeasurement.analyticsVisitorID},a.mid=function(){return b._appMeasurement.marketingCloudVisitorID},a.blob=function(){return b._appMeasurement.audienceManagerBlob},a.loc_hint=function(){return b._appMeasurement.audienceManagerLocationHint?parseInt(b._appMeasurement.audienceManagerLocationHint):""},a.customerIDs=function(){var a={},c=b._appMeasurement.visitor.getCustomerIDs();for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if("object"==typeof e){for(var f in e)e.hasOwnProperty(f)&&("authState"==f?a[d+".as"]=e[f]:a[d+"."+f]=e[f]);a[d+".as"]||(a[d+".as"]="0")}}return a},a.visitorOptedOut=function(){return!!b._appMeasurement.visitorOptedOut},a.channel=function(){return b._config?b._config.channel:null},a.meta=function(a){var c=a.split(".");if(c.length<2)return null;var d=c.shift();switch(a=c.join("."),d){case"video":return a==i.WILDCARD?b._videoMetadata:b._videoMetadata[a];case"ad":return a==i.WILDCARD?b._adMetadata:b._adMetadata[a];case"chapter":return a==i.WILDCARD?b._chapterMetadata:b._chapterMetadata[a];default:return null}},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},n.startsWith(e,"meta.")?c[e]=a.meta(e.split("meta.")[1]):c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},e.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},e.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(u,I),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new f(u,J),this,"handleVideoStart",[new h(u,"video.id","videoId"),new h(u,"video.mediaType","mediaType"),new h(u,"video.streamType","streamType"),new h(u,"video.name","videoName"),new h(u,"video.length","videoLength"),new h(u,"video.playerName","playerName"),new h(u,"video.streamType","streamType"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(u,K),this,"handleAdStart",[new h(u,"video.id","videoId"),new h(u,"video.mediaType","mediaType"),new h(u,"video.streamType","streamType"),new h(u,"video.playhead","playhead"),new h(u,"video.playerName","playerName"),new h(u,"video.name","videoName"),new h(u,"video.length","videoLength"),new h(u,"ad.id","adId"),new h(u,"ad.length","adLength"),new h(u,"ad.position","adPosition"),new h(u,"ad.name","adName"),new h(u,"pod.name","podName"),new h(u,"pod.position","podPosition"),new h(u,"pod.playerName","podPlayerName"),new h(u,"pod.startTime","podSecond"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(v,x),this,"handleHeartbeatPluginError")},e.prototype._onAppMeasurementReady=function(){this._logger.debug(this._logTag,"[Init] #_onAppMeasurementReady"),this._workQueue.resume()};var r="adobe-analytics",s=r,t="nielsen",u="player",v="adobe-heartbeat",w=2e3,x="error",y="video",z="videoAd",A="audio",B="audioAd",C="ms_s",D="msp_s",E="msa_s",F="mspa_s",G="aa_start",H="sc_ad_start",I="video_load",J="video_start",K="ad_start";d.AdobeAnalyticsPlugin=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";var b={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},c={ARTIST:"a.media.artist",ALBUM:"a.media.album",LABEL:"a.media.label",AUTHOR:"a.media.author",STATION:"a.media.station",PUBLISHER:"a.media.publisher"},d={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"};a.VideoMetadataKeys=b,a.AudioMetadataKeys=c,a.AdMetadataKeys=d}(b),a.ADB.va.plugins.aa||(a.ADB.va.plugins.aa=b)}(this);

                    // MediaHeartbeat
                    !function(a){!function(a,b){"use strict";function c(){this._processAction=!0,this._store={}}function d(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._rules=[]}c.prototype.setRuleName=function(a){this._ruleName=a},c.prototype.getRuleName=function(a,b){return this._ruleName},c.prototype.setData=function(a,b){this._store[a]=b},c.prototype.getData=function(a){return this._store[a]},c.prototype.shouldProcessAction=function(){return this._processAction},c.prototype.stopProcessingAction=function(){this._processAction=!1},c.prototype.startProcessingAction=function(){this._processAction=!0},d.createContext=function(){return new c},d.createPredicate=function(a,b,c){return{fn:a,expectedValue:b,msg:c}},d.prototype.registerRule=function(a,b,c,d,e){this._rules.push({name:a,desc:b,preconditions:c,actions:d,scope:e})},d.prototype.registerEnterExitAction=function(a,b){this._enterAction=a,this._exitAction=b},d.prototype._handleFailure=function(a,b){this._logger.error(e,a.desc+" -  "+b.msg)},d.prototype._getRule=function(a){for(var b=0;b<this._rules.length;++b)if(this._rules[b].name===a)return this._rules[b];return null},d.prototype.processRule=function(a,b){var c=!0,f=this._getRule(a);if(f){var g=f.scope;b||(b=d.createContext()),b.setRuleName(a);for(var h=!1,i=0;i<f.preconditions.length;++i){var j=f.preconditions[i];if(h=!!j.fn.call(g,b)!==j.expectedValue){this._handleFailure(f,j);break}}if(h)c=!1;else{b.startProcessingAction(),this._enterAction&&this._enterAction.call(g,b);for(var i=0;i<f.actions.length;++i){var k=f.actions[i];if(!b.shouldProcessAction()){this._logger.info(e,"Stopping actions for "+f.desc);break}k.call(g,b)}this._exitAction&&b.shouldProcessAction()&&this._exitAction.call(g,b)}}else this._logger.warn(e,"No registered event found for ruleName "+a),c=!1;return c};var e="RuleEngine";b._RuleEngine=d}(a.ADB.core,a.ADB.va),function(a,b){"use strict";function c(a,b,c){this.taskFn=a,this.scope=b,this.interval=c,this.remainingInterval=c}function d(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._tasks=[],this._pausedTasks=[]}c.prototype.elapsedTime=function(a){this.remainingInterval-=a},c.prototype.shouldExecute=function(){return this.remainingInterval<=0},c.prototype.execute=function(){this.taskFn.call(this.scope)},d.prototype._getCurrentTimeInMS=function(){return(new Date).getTime()},d.prototype._runTasksForTime=function(a){var b=[],c=a-this._lastTickTime;this._lastTickTime=a;for(var d=0;d<this._tasks.length;){var e=this._tasks[d];e.elapsedTime(c),e.shouldExecute()?(b.push(e),this._tasks.splice(d,1)):++d}this._checkStopTimer();for(var d=0;d<b.length;++d)b[d].execute()},d.prototype._onTick=function(){var a=this._getCurrentTimeInMS();this._runTasksForTime(a)},d.prototype._startTimer=function(){var a=this;this._timer||(this._logger.info(e,"#startTimer()"),a._lastTickTime=this._getCurrentTimeInMS(),this._timer=window.setInterval(function(){a._onTick()},f))},d.prototype._stopTimer=function(){this._timer&&(this._logger.info(e,"#stopTimer()"),window.clearInterval(this._timer),this._timer=null)},d.prototype._checkStartTimer=function(){this._tasks.length>0&&this._startTimer()},d.prototype._checkStopTimer=function(){0===this._tasks.length&&this._stopTimer()},d.prototype._removeTask=function(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return a.splice(c,1),!0;return!1},d.prototype.scheduleTask=function(a,b,d){if(this._logger.info(e,"#scheduleTask()"),!a)throw new Error("Reference to the taskFn cannot be NULL");var f=new c(a,b,d);return this._tasks.push(f),this._checkStartTimer(),f},d.prototype.cancelTask=function(a){this._logger.info(e,"#cancelTask()"),this._removeTask(this._tasks,a),this._checkStopTimer()},d.prototype.pauseTask=function(a){this._logger.info(e,"#pauseTask()"),this._removeTask(this._tasks,a)&&this._pausedTasks.push(a),this._checkStopTimer()},d.prototype.resumeTask=function(a){this._logger.info(e,"#resumeTask()"),this._removeTask(this._pausedTasks,a)&&this._tasks.push(a),this._checkStartTimer()},d.prototype.clearTasks=function(){this._stopTimer(),this._tasks=[],this._pausedTasks=[]};var e="TaskScheduler",f=250;b._TaskScheduler=d}(a.ADB.core,a.ADB.va),function(a){"use strict";function b(){this.trackingServer=void 0,this.channel=void 0,this.ovp=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!1,this.debugLogging=!1}a.MediaHeartbeatConfig=b,a.MediaHeartbeatConfig.sharedInstance=new b}(a.ADB.va),function(a){"use strict";function b(){this.data={}}var c=a.plugins.videoplayer.VideoInfo,d=a.plugins.videoplayer.AdBreakInfo,e=a.plugins.videoplayer.AdInfo,f=a.plugins.videoplayer.ChapterInfo,g=a.plugins.videoplayer.QoSInfo;b.MEDIAINFO_KEY_NAME="a.name",b.MEDIAINFO_KEY_VIDEOID="a.videoId",b.MEDIAINFO_KEY_ADID="a.adId",b.MEDIAINFO_KEY_LENGTH="a.length",b.MEDIAINFO_KEY_PLAYHEAD="a.playhead",b.MEDIAINFO_KEY_MEDIATYPE="a.mediaType",b.MEDIAINFO_KEY_STREAMTYPE="a.streamType",b.MEDIAINFO_KEY_POSITION="a.position",b.MEDIAINFO_KEY_STARTTIME="a.startTime",b.MEDIAINFO_KEY_BITRATE="a.bitrate",b.MEDIAINFO_KEY_FPS="a.fps",b.MEDIAINFO_KEY_DROPPEDFRAMES="a.droppedFrames",b.MEDIAINFO_KEY_STARTUPTIME="a.startupTime",b.MEDIAINFO_KEY_TIMEDMETADATA="a.timedMetadata",b.prototype.setValue=function(a,b){this.data[a]=b},b.prototype.getValue=function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},b.prototype.createVideoInfo=function(){var a=new c;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_VIDEOID)?this.getValue(b.MEDIAINFO_KEY_VIDEOID):"",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.playhead=null!=this.getValue(b.MEDIAINFO_KEY_PLAYHEAD)?this.getValue(b.MEDIAINFO_KEY_PLAYHEAD):0,a.mediaType=null!=this.getValue(b.MEDIAINFO_KEY_MEDIATYPE)?this.getValue(b.MEDIAINFO_KEY_MEDIATYPE):"",a.streamType=null!=this.getValue(b.MEDIAINFO_KEY_STREAMTYPE)?this.getValue(b.MEDIAINFO_KEY_STREAMTYPE):"",a},b.prototype.createAdBreakInfo=function(){var a=new d;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a},b.prototype.createAdInfo=function(){var a=new e;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_ADID)?this.getValue(b.MEDIAINFO_KEY_ADID):"",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createChapterInfo=function(){var a=new f;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createQoSInfo=function(){var a=new g;return a.bitrate=null!=this.getValue(b.MEDIAINFO_KEY_BITRATE)?this.getValue(b.MEDIAINFO_KEY_BITRATE):0,a.fps=null!=this.getValue(b.MEDIAINFO_KEY_FPS)?this.getValue(b.MEDIAINFO_KEY_FPS):0,a.droppedFrames=null!=this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES)?this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES):0,a.startupTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTUPTIME)?this.getValue(b.MEDIAINFO_KEY_STARTUPTIME):0,a},b.prototype.isEqual=function(a){if(this===a)return!0;if(!a||"object"!=typeof a||"function"!=typeof a.getValue)return!1;for(var c=[b.MEDIAINFO_KEY_NAME,b.MEDIAINFO_KEY_VIDEOID,b.MEDIAINFO_KEY_ADID,b.MEDIAINFO_KEY_LENGTH,b.MEDIAINFO_KEY_PLAYHEAD,b.MEDIAINFO_KEY_STREAMTYPE,b.MEDIAINFO_KEY_MEDIATYPE,b.MEDIAINFO_KEY_POSITION,b.MEDIAINFO_KEY_STARTTIME,b.MEDIAINFO_KEY_BITRATE,b.MEDIAINFO_KEY_FPS,b.MEDIAINFO_KEY_DROPPEDFRAMES,b.MEDIAINFO_KEY_STARTUPTIME,b.MEDIAINFO_KEY_TIMEDMETADATA],d=0;d<c.length;++d){var e=c[d];if(this.getValue(e)!==a.getValue(e))return!1}return!0},a.MediaObject=b}(a.ADB.va),function(a,b){"use strict";function c(a){c.__super__.constructor.call(this),this._heartbeat=a}function d(a){d.__super__.constructor.call(this),this._heartbeat=a}function e(a){e.__super__.constructor.call(this),this._heartbeat=a}function f(a){f.__super__.constructor.call(this),this._heartbeat=a}a.extend(c,b.plugins.aa.AdobeAnalyticsPluginDelegate),c.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},a.extend(d,b.plugins.ah.AdobeHeartbeatPluginDelegate),d.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},d.prototype.onTrackingDisabled=function(){this._heartbeat&&this._heartbeat._disableHBTracking()},a.extend(e,b.HeartbeatDelegate),e.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},a.extend(f,b.plugins.videoplayer.VideoPlayerPluginDelegate),f.prototype.getVideoInfo=function(){return this._heartbeat&&this._heartbeat._videoInfo?(this._heartbeat._delegate&&(this._heartbeat._videoInfo.playhead=this._heartbeat._delegate.getCurrentPlaybackTime()),this._heartbeat._videoInfo):null},f.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},f.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},f.prototype.getChapterInfo=function(){return this._heartbeat&&this._heartbeat._chapterInfo?this._heartbeat._chapterInfo:null},f.prototype.getQoSInfo=function(){if(this._heartbeat&&this._heartbeat._delegate&&this._heartbeat._delegate.getQoSObject()){var a=this._heartbeat._delegate.getQoSObject();if(a&&"object"==typeof a&&a.setValue)return a.createQoSInfo()}return null},b._MediaAnalyticsPluginDelegate=c,b._MediaHeartbeatPluginDelegate=d,b._ADBMediaHeartbeatDelegate=e,b._MediaHeartbeatVideoPlayerPluginDelegate=f}(a.ADB.core,a.ADB.va),function(a,b){"use strict";function c(a,d){c.__super__.constructor.call(this),this._heartbeat=a,this._logger=d,this._validator=new b.plugins.nielsen.MetadataValidator(d)}var d="MediaHeartbeatNielsenPluginDelegate",e={NielsenContentMetadata:"media_nielsen_content_metadata",NielsenChannelMetadata:"media_nielsen_channel_metadata",NielsenAdMetadata:"media_nielsen_ad_metadata"};b.plugins.nielsen&&a.extend(c,b.plugins.nielsen.NielsenPluginDelegate),c.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var a=this._heartbeat._currentMediaObject.getValue(e.NielsenContentMetadata);if(a&&"object"==typeof a)return this._validator.validateContentMetadata(a,"MediaHeartbeat.NielsenContentMetadataKeys"),a;this._logger.warn(d,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenContentMetadata in MediaObject")}return null},c.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdObject){var a=this._heartbeat._currentAdObject.getValue(e.NielsenAdMetadata);if(a&&"object"==typeof a)return this._validator.validateAdMetadata(a,"MediaHeartbeat.NielsenAdMetadataKeys"),a;this._logger.warn(d,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenAdMetadata in MediaObject")}return null},c.prototype.getChannelInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var a=this._heartbeat._currentMediaObject.getValue(e.NielsenChannelMetadata);if(a&&"object"==typeof a)return this._validator.validateChannelMetadata(a,"MediaHeartbeat.NielsenChannelMetadataKeys"),a;this._logger.warn(d,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenChannelMetadata in MediaObject")}return null},c.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},b.plugins.nielsen&&(b._NielsenObjectKey=e,b._NielsenPluginDelegate=c)}(a.ADB.core,a.ADB.va),function(b,c){"use strict";function d(){}function e(b,d,e){if(this._appMeasurement=e||a.s,!this._appMeasurement)throw new Error("MediaHeartbeat needs a valid AppMeasurement instance.");if(!this._appMeasurement.visitor||!this._appMeasurement.visitor.marketingCloudOrgID)throw new Error("MediaHeartbeat needs a valid visitor instance with marketingCloudOrgId set.");if(!b)throw new Error("MediaHeartbeat needs a valid delegate object.");if(!d||"object"!=typeof d||!d.trackingServer)throw new Error("MediaHeartbeat needs a valid config object with trackingServer set.");this._config=d,this._delegate=b,this._debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._logger=new f,this._debugLogging?this._logger.enable():this._logger.disable(),this._ruleEngine=new t(this._logger),this._taskScheduler=new u(this._logger),this._resetState(),this._setupRules()}var f=b.Logger,g=c.MediaObject,h=c.Heartbeat,i=c.HeartbeatConfig,j=c._ADBMediaHeartbeatDelegate,k=c.plugins.videoplayer.VideoPlayerPlugin,l=c.plugins.videoplayer.VideoPlayerPluginConfig,m=c._MediaHeartbeatVideoPlayerPluginDelegate,n=c.plugins.aa.AdobeAnalyticsPlugin,o=c.plugins.aa.AdobeAnalyticsPluginConfig,p=c._MediaAnalyticsPluginDelegate,q=c.plugins.ah.AdobeHeartbeatPlugin,r=c.plugins.ah.AdobeHeartbeatPluginConfig,s=c._MediaHeartbeatPluginDelegate,t=c._RuleEngine,u=c._TaskScheduler,v=c.utils.ObjectUtils,w=c.utils.VersionUtils;if(d.prototype.getCurrentPlaybackTime=function(){return null},d.prototype.getQoSObject=function(){return null},e.MediaType={Video:"video",Audio:"audio"},e.Event={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",TimedMetadataUpdate:"timedMetadataUpdate"},e.StreamType={VOD:"vod",LIVE:"live",LINEAR:"linear",PODCAST:"podcast",AUDIOBOOK:"audiobook",AOD:"aod"},e.MediaObjectKey={StandardVideoMetadata:"media_standard_content_metadata",StandardMediaMetadata:"media_standard_content_metadata",StandardAdMetadata:"media_standard_ad_metadata",VideoResumed:"resumed",MediaResumed:"resumed",PrerollTrackingWaitingTime:"preroll_tracking_waiting_time"},e.VideoMetadataKeys=c.plugins.aa.VideoMetadataKeys,e.AudioMetadataKeys=c.plugins.aa.AudioMetadataKeys,e.AdMetadataKeys=c.plugins.aa.AdMetadataKeys,e.createMediaObject=function(a,b,c,d,f){var h=new g;h.setValue(g.MEDIAINFO_KEY_VIDEOID,b),h.setValue(g.MEDIAINFO_KEY_NAME,a),h.setValue(g.MEDIAINFO_KEY_LENGTH,c),h.setValue(g.MEDIAINFO_KEY_PLAYHEAD,0);var i=d||e.StreamType.VOD;return h.setValue(g.MEDIAINFO_KEY_STREAMTYPE,i),("string"!=typeof f||f!=e.MediaType.Video&&f!=e.MediaType.Audio)&&(f=e.MediaType.Video),h.setValue(g.MEDIAINFO_KEY_MEDIATYPE,f),h},e.createAdBreakObject=function(a,b,c){var d=new g;return d.setValue(g.MEDIAINFO_KEY_NAME,a),d.setValue(g.MEDIAINFO_KEY_POSITION,b),d.setValue(g.MEDIAINFO_KEY_STARTTIME,c),d},e.createAdObject=function(a,b,c,d){var e=new g;return e.setValue(g.MEDIAINFO_KEY_NAME,a),e.setValue(g.MEDIAINFO_KEY_ADID,b),e.setValue(g.MEDIAINFO_KEY_POSITION,c),e.setValue(g.MEDIAINFO_KEY_LENGTH,d),e},e.createChapterObject=function(a,b,c,d){var e=new g;return e.setValue(g.MEDIAINFO_KEY_NAME,a),e.setValue(g.MEDIAINFO_KEY_POSITION,b),e.setValue(g.MEDIAINFO_KEY_LENGTH,c),e.setValue(g.MEDIAINFO_KEY_STARTTIME,d),e},e.createQoSObject=function(a,b,c,d){var e=new g;return e.setValue(g.MEDIAINFO_KEY_BITRATE,a),e.setValue(g.MEDIAINFO_KEY_FPS,c),e.setValue(g.MEDIAINFO_KEY_DROPPEDFRAMES,d),e.setValue(g.MEDIAINFO_KEY_STARTUPTIME,b),e},e.createTimedMetadataObject=function(a){var b=new g;return b.setValue(g.MEDIAINFO_KEY_TIMEDMETADATA,a),b},e.version=function(){return c.Version.getVersion()},e.prototype.trackSessionStart=function(a,b){this._logger.info(C,"#::trackSessionStart()");var c=t.createContext();c.setData(D,a),c.setData(I,this._cleanContextData(b)),this._processRule(A.SessionStart,c)},e.prototype.trackPlay=function(){this._logger.info(C,"#::trackPlay()"),this._processRule(A.Play)},e.prototype.trackPause=function(){this._logger.info(C,"#::trackPause()"),this._processRule(A.Pause)},e.prototype.trackComplete=function(){this._logger.info(C,"#::trackComplete()"),this._processRule(A.VideoComplete)},e.prototype.trackSessionEnd=function(){this._logger.info(C,"#::trackSessionEnd()"),this._processRule(A.SessionEnd)},e.prototype.trackError=function(a){this._logger.info(C,"#::trackError()");var b=t.createContext();b.setData(J,a),this._processRule(A.Error,b)},e.prototype.trackEvent=function(a,b,c){this._logger.info(C,"#::trackEvent() - "+a);var d,f=t.createContext();switch(a){case e.Event.AdBreakStart:f.setData(E,b),f.setData(I,this._cleanContextData(c)),d=A.AdBreakStart;break;case e.Event.AdBreakComplete:d=A.AdBreakComplete;break;case e.Event.AdStart:f.setData(F,b),f.setData(I,this._cleanContextData(c)),d=A.AdStart;break;case e.Event.AdComplete:d=A.AdComplete;break;case e.Event.AdSkip:d=A.AdSkip;break;case e.Event.SeekStart:d=A.SeekStart;break;case e.Event.SeekComplete:d=A.SeekComplete;break;case e.Event.ChapterStart:f.setData(G,b),f.setData(I,this._cleanContextData(c)),d=A.ChapterStart;break;case e.Event.ChapterComplete:d=A.ChapterComplete;break;case e.Event.ChapterSkip:d=A.ChapterSkip;break;case e.Event.BufferStart:d=A.BufferStart;break;case e.Event.BufferComplete:d=A.BufferComplete;break;case e.Event.BitrateChange:d=A.BitrateChange;break;case e.Event.TimedMetadataUpdate:d=A.TimedMetadataUpdate,f.setData(H,b);break;default:return void this._logger.error(C,"Incorrect event name.")}this._processRule(d,f)},c.plugins.nielsen){var x=c.MediaHeartbeatConfig;x.prototype.nielsenConfigKey=void 0,x.prototype.nielsenAppInfo=void 0;var y=c._NielsenObjectKey;e.MediaObjectKey.NielsenContentMetadata=y.NielsenContentMetadata,e.MediaObjectKey.NielsenAdMetadata=y.NielsenAdMetadata,e.MediaObjectKey.NielsenChannelMetadata=y.NielsenChannelMetadata,e.NielsenContentMetadataKeys=c.plugins.nielsen.ContentMetadataKeys,e.NielsenChannelMetadataKeys=c.plugins.nielsen.ChannelMetadataKeys,e.NielsenAdMetadataKeys=c.plugins.nielsen.AdMetadataKeys,e.prototype.nielsenLoadMetadata=function(a){this._nielsenPlugin&&this._nielsenPlugin.loadMetadata(a)}}e.prototype._setState=function(a,b){this._mediaState[a]=b},e.prototype._isInState=function(a){return this._mediaState[a]},e.prototype._isTrackingDisabled=function(a){return this._mediaHeartbeatDisabled},e.prototype._isInSession=function(a){return this._isInState(z.Session)},e.prototype._isInMedia=function(a){return this._isInState(z.Media)},e.prototype._isInAd=function(a){return this._isInState(z.Ad)},e.prototype._isInAdBreak=function(a){return this._isInState(z.AdBreak)},e.prototype._isInChapter=function(a){return this._isInState(z.Chapter)},e.prototype._isInPlay=function(a){return this._isInState(z.PlayPause)},e.prototype._isInPause=function(a){return!this._isInState(z.PlayPause)},e.prototype._isInBuffer=function(a){return this._isInState(z.Buffer)},e.prototype._isInSeek=function(a){return this._isInState(z.Seek)},e.prototype._isPlatformTrackingSupported=function(a){return!this._appMeasurement.unsupportedBrowser},e.prototype._isAudioTrackingSupported=function(a){return a.getData(D).getValue(g.MEDIAINFO_KEY_MEDIATYPE)!==e.MediaType.Audio||w.isGreaterThanEqual(this._appMeasurement.version,"2.11.0")},e.prototype._isValidMediaObject=function(a){var b=a.getData(D);if(b&&b instanceof g){var c=b.getValue(e.MediaObjectKey.MediaResumed);null!=c&&"boolean"!=typeof c&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.MediaResumed in MediaObject as we expect a boolean value");var d=b.getValue(e.MediaObjectKey.PrerollTrackingWaitingTime);if(null!=d){("string"==typeof d||"number"==typeof d)&&!isNaN(d)||this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.PrerollTrackingWaitingTime in MediaObject as we expect a valid duration as number in milliseconds.")}var f=b.getValue(e.MediaObjectKey.StandardMediaMetadata);return null!=f&&"object"!=typeof f&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardMediaMetadata in MediaObject as we expect a valid object with kv pairs."),!0}return!1},e.prototype._isValidAdBreakObject=function(a){var b=a.getData(E);return b&&b instanceof g},e.prototype._isDifferentAdBreakObject=function(a){var b=a.getData(E);return!(this._currentAdBreakObject&&this._currentAdBreakObject.isEqual(b))},e.prototype._isValidAdObject=function(a){var b=a.getData(F);if(b&&b instanceof g){var c=b.getValue(M);null!=c&&"boolean"!=typeof c&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.GranularAdTracking in AdObject as we expect a boolean value.");var d=b.getValue(e.MediaObjectKey.StandardAdMetadata);return null!=d&&"object"!=typeof d&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardAdMetadata in AdObject as we expect a valid object with kv pairs."),!0}return!1},e.prototype._isDifferentAdObject=function(a){var b=a.getData(F);return!(this._currentAdObject&&this._currentAdObject.isEqual(b))},e.prototype._isValidChapterObject=function(a){var b=a.getData(G);return b&&b instanceof g},e.prototype._isDifferentChapterObject=function(a){var b=a.getData(G);return!(this._currentChapterObject&&this._currentChapterObject.isEqual(b))},e.prototype._isValidTimedMetadataObject=function(a){var b=a.getData(H);if(b&&b instanceof g){var c=b.getValue(g.MEDIAINFO_KEY_TIMEDMETADATA);return c&&"string"==typeof c}return!1},e.prototype._shouldAllowPlayerStateChange=function(a){return!(this._isInState(z.AdBreak)&&!this._isInState(z.Ad))},e.prototype._deferredTrackPlay=function(){this._prerollWaitEnabled&&(this._logger.info(C,"Executing deferred API:trackPlay."),this._prerollWaitEnabled=!1,this._playTaskHandle=null,this._processRule(A.Play))},e.prototype._cmdEnterAction=function(a){var b=a.getRuleName();if(this._prerollWaitEnabled)if(this._playReceived)switch(b){case A.SeekStart:case A.BufferStart:this._logger.info(C,"Cancelling scheduled API:trackPlay because of SeekStart/BufferStart event"),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null;break;case A.SeekComplete:case A.BufferComplete:this._logger.info(C,"Rescheduled API:trackPlay after SeekComplete/BufferComplete event"),this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime);break;case A.Play:this._logger.info(C,"Dropping API:trackPlay as we already have a API:trackPlay scheduled."),a.stopProcessingAction();break;case A.Pause:this._logger.info(C,"Cancelling scheduled API:trackPlay because of API:trackPause call."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1;break;case A.AdBreakStart:this._logger.info(C,"Received API:trackEvent(AdBreakStart) within "+this._prerollWaitTime+" ms after API:trackPlay. We will track this as preroll AdBreak."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1,this._playAfterAdStart=!0}else switch(b){case A.Play:this._logger.info(C,"Deferring API:trackPlay for "+this._prerollWaitTime+" ms."),this._playReceived=!0,this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime),a.stopProcessingAction();break;case A.AdBreakStart:this._logger.info(C,"Received trackEvent(AdBreakStart) before first trackPlay."),this._prerollWaitEnabled=!1}},e.prototype._cmdExitAction=function(a){var b=a.getRuleName();this._playAfterAdStart&&(b===A.AdStart?(this._cmdPlay(a),this._playAfterAdStart=!1):b===A.AdBreakComplete&&(this._playAfterAdStart=!1)),b!==A.AdStart||this._isInState(z.FPlayPause)||this._cmdPlay(a)},e.prototype._cmdConfigure=function(a){this._resetState(),this._configureAdobeAnalyticsPlugin(),this._configureAdobeHearbeatPlugin(),this._configureVideoPlayerPlugin(),this._configureOtherPlugins(),this._configureHeartbeat()},e.prototype._cmdSessionStart=function(a){var b=a.getData(D),c=a.getData(I);this._currentMediaObject=b,this._videoInfo=b.createVideoInfo(),this._videoInfo.playerName=this._config.playerName?this._config.playerName:"";var d=b.getValue(e.MediaObjectKey.StandardMediaMetadata);d&&"object"==typeof d||(d=null);var f=b.getValue(e.MediaObjectKey.MediaResumed);"boolean"==typeof f&&(this._videoInfo.resumed=f);var g=b.getValue(e.MediaObjectKey.PrerollTrackingWaitingTime);"string"!=typeof g&&"number"!=typeof g||isNaN(g)||(this._prerollWaitTime=Number(g),this._prerollWaitTime<=0&&(this._prerollWaitEnabled=!1));var h=this._prepareMetadata(d,c);h[K]=this._videoInfo.mediaType,this._aaPlugin.setVideoMetadata(h),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart(),this._setState(z.Session,!0),this._setState(z.Media,!0)},e.prototype._cmdVideoEnd=function(a){var b=a.getRuleName()===A.VideoComplete;if(this._isInState(z.Media)){var c=this._heartbeat,d=this._playerPlugin;this._playerPlugin.trackComplete(function(){d&&d.trackVideoUnload(),c&&c.destroy()},b)}this._setState(z.Media,!1)},e.prototype._cmdHandleMediaComplete=function(a){this._isInMedia(a)||(this._logger.info(C,"API:trackComplete has already cleaned up Heartbeat instance."),this._cmdSessionEnd(a),a.stopProcessingAction())},e.prototype._cmdSessionEnd=function(a){this._setState(z.Session,!1),this._resetState()},e.prototype._cmdDisableTracking=function(a){this._logger.info(C,"#_cmdDisableTracking: ADBMediaHeartbeat Tracking Disabled Remotely."),this._mediaHeartbeatDisabled=!0},e.prototype._cmdBufferStart=function(a){this._playerPlugin.trackBufferStart(),this._setState(z.Buffer,!0)},e.prototype._cmdBufferComplete=function(a){this._isInState(z.Buffer)&&this._playerPlugin.trackBufferComplete(),this._setState(z.Buffer,!1)},e.prototype._cmdSeekStart=function(a){this._playerPlugin.trackSeekStart(),this._setState(z.Seek,!0)},e.prototype._cmdSeekComplete=function(a){this._isInState(z.Seek)&&this._playerPlugin.trackSeekComplete(),this._setState(z.Seek,!1)},e.prototype._cmdPlay=function(a){this._playerPlugin.trackPlay(),this._setState(z.PlayPause,!0),this._setState(z.FPlayPause,!0)},e.prototype._cmdPause=function(a){this._playerPlugin.trackPause(),this._setState(z.PlayPause,!1),this._setState(z.FPlayPause,!0)},e.prototype._cmdAdBreakStart=function(a){var b=a.getData(E);this._currentAdBreakObject=b,this._adBreakInfo=b.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName?this._config.playerName:"",this._playerPlugin.trackAdBreakStart(),this._setState(z.AdBreak,!0)},e.prototype._cmdAdBreakComplete=function(a){this._currentAdBreakObject=null,this._adBreakInfo=null,this._isInState(z.AdBreak)&&this._playerPlugin.trackAdBreakComplete(),this._setState(z.AdBreak,!1)},e.prototype._cmdAdStart=function(a){var b=a.getData(F),c=a.getData(I);this._currentAdObject=b,this._adInfo=b.createAdInfo();var d=b.getValue(M);"boolean"==typeof d&&(this._adInfo.granularTracking=d);var f=b.getValue(e.MediaObjectKey.StandardAdMetadata);f&&"object"==typeof f||(f=null);var g=this._prepareMetadata(f,c);this._aaPlugin.setAdMetadata(g),this._playerPlugin.trackAdStart(),this._setState(z.Ad,!0)},e.prototype._cmdAdComplete=function(a){this._currentAdObject=null,this._adInfo=null,this._isInState(z.Ad)&&this._playerPlugin.trackAdComplete(),this._setState(z.Ad,!1)},e.prototype._cmdAdSkip=function(a){this._currentAdObject=null,this._adInfo=null,this._isInState(z.Ad)&&this._playerPlugin.trackAdSkip(),this._setState(z.Ad,!1)},e.prototype._cmdChapterStart=function(a){var b=a.getData(G),c=a.getData(I);this._currentChapterObject=b,this._chapterInfo=b.createChapterInfo();var d=this._prepareMetadata(null,c);this._aaPlugin.setChapterMetadata(d),this._playerPlugin.trackChapterStart(),this._setState(z.Chapter,!0)},e.prototype._cmdChapterComplete=function(a){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(z.Chapter)&&this._playerPlugin.trackChapterComplete(),this._setState(z.Chapter,!1)},e.prototype._cmdChapterSkip=function(a){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(z.Chapter)&&this._playerPlugin.trackChapterSkip(),this._setState(z.Chapter,!1)},e.prototype._cmdError=function(a){var b=a.getData(J);b||(b="unknown_error_id"),this._playerPlugin.trackVideoPlayerError(b)},e.prototype._cmdBitrate=function(a){this._playerPlugin.trackBitrateChange()},e.prototype._cmdTimedMetadataUpdate=function(a){var b=a.getData(H),c=b.getValue(g.MEDIAINFO_KEY_TIMEDMETADATA);this._playerPlugin.trackTimedMetadata(c)},e.prototype._processRule=function(a,b){return this._ruleEngine.processRule(a,b)},e.prototype._setupRules=function(){this._ruleEngine.registerEnterExitAction(this._cmdEnterAction,this._cmdExitAction),this._ruleEngine.registerRule(A.SessionStart,"API:trackSessionStart",[t.createPredicate(this._isPlatformTrackingSupported,!0,B.ErrUnSupportedPlatform),t.createPredicate(this._isTrackingDisabled,!1,B.ErrTrackingDisabled),t.createPredicate(this._isInSession,!1,B.ErrInSession),t.createPredicate(this._isValidMediaObject,!0,B.ErrInvalidMediaObject),t.createPredicate(this._isAudioTrackingSupported,!0,B.ErrAudioTrackingNotSupported)],[this._cmdConfigure,this._cmdSessionStart],this),this._ruleEngine.registerRule(A.SessionEnd,"API:trackSessionEnd",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession)],[this._cmdHandleMediaComplete,this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd,this._cmdSessionEnd],this),this._ruleEngine.registerRule(A.VideoComplete,"API:trackComplete",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd],this),this._ruleEngine.registerRule(A.DisableTracking,"DisableTracking",[t.createPredicate(this._isTrackingDisabled,!1,B.ErrTrackingDisabled)],[this._cmdDisableTracking],this),this._ruleEngine.registerRule(A.Error,"API:trackError",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia)],[this._cmdError],this),this._ruleEngine.registerRule(A.Play,"API:trackPlay",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState)],[this._cmdSeekComplete,this._cmdBufferComplete,this._cmdPlay],this),this._ruleEngine.registerRule(A.Pause,"API:trackPause",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInBuffer,!1,B.ErrInBuffer),t.createPredicate(this._isInSeek,!1,B.ErrInSeek)],[this._cmdPause],this),this._ruleEngine.registerRule(A.BufferStart,"API:trackEvent(BufferStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInBuffer,!1,B.ErrInBuffer),t.createPredicate(this._isInSeek,!1,B.ErrInSeek)],[this._cmdBufferStart],this),this._ruleEngine.registerRule(A.BufferComplete,"API:trackEvent(BufferComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInBuffer,!0,B.ErrNotInBuffer)],[this._cmdBufferComplete],this),this._ruleEngine.registerRule(A.SeekStart,"API:trackEvent(SeekStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInSeek,!1,B.ErrInSeek),t.createPredicate(this._isInBuffer,!1,B.ErrInBuffer)],[this._cmdSeekStart],this),this._ruleEngine.registerRule(A.SeekComplete,"API:trackEvent(SeekComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInSeek,!0,B.ErrNotInSeek)],[this._cmdSeekComplete],this),this._ruleEngine.registerRule(A.AdBreakStart,"API:trackEvent(AdBreakStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isValidAdBreakObject,!0,B.ErrInvalidAdBreakObject),t.createPredicate(this._isDifferentAdBreakObject,!0,B.ErrDuplicateAdBreakObject)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdAdBreakStart],this),this._ruleEngine.registerRule(A.AdBreakComplete,"API:trackEvent(AdBreakComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,B.ErrNotInAdBreak)],[this._cmdAdSkip,this._cmdAdBreakComplete],this),this._ruleEngine.registerRule(A.AdStart,"API:trackEvent(AdStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,B.ErrNotInAdBreak),t.createPredicate(this._isValidAdObject,!0,B.ErrInvalidAdObject),t.createPredicate(this._isDifferentAdObject,!0,B.ErrDuplicateAdObject)],[this._cmdAdSkip,this._cmdAdStart],this),this._ruleEngine.registerRule(A.AdComplete,"API:trackEvent(AdComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,B.ErrNotInAdBreak),t.createPredicate(this._isInAd,!0,B.ErrNotInAd)],[this._cmdAdComplete],this),this._ruleEngine.registerRule(A.AdSkip,"API:trackEvent(AdSkip)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,B.ErrNotInAdBreak),t.createPredicate(this._isInAd,!0,B.ErrNotInAd)],[this._cmdAdSkip],this),this._ruleEngine.registerRule(A.ChapterStart,"API:trackEvent(ChapterStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isValidChapterObject,!0,B.ErrInvalidChapterObject),t.createPredicate(this._isDifferentChapterObject,!0,B.ErrDuplicateChapterObject)],[this._cmdChapterSkip,this._cmdChapterStart],this),this._ruleEngine.registerRule(A.ChapterComplete,"API:trackEvent(ChapterComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInChapter,!0,B.ErrNotInChapter)],[this._cmdChapterComplete],this),this._ruleEngine.registerRule(A.ChapterSkip,"API:trackEvent(ChapterSkip)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInChapter,!0,B.ErrNotInChapter)],[this._cmdChapterSkip],this),this._ruleEngine.registerRule(A.BitrateChange,"API:trackEvent(BitrateChange)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia)],[this._cmdBitrate],this),this._ruleEngine.registerRule(A.TimedMetadataUpdate,"API:trackEvent(TimedMetadataUpdate)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isValidTimedMetadataObject,!0,B.ErrInvalidTimedMetadataObject)],[this._cmdTimedMetadataUpdate],this)},e.prototype._configureAdobeAnalyticsPlugin=function(){this._aaPlugin=new n(this._appMeasurement,new p(this));var a=new o;a.channel=this._config.channel?this._config.channel:"",a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(a),this._plugins.push(this._aaPlugin)},e.prototype._configureAdobeHearbeatPlugin=function(){var a=this._appMeasurement.visitor?this._appMeasurement.visitor.marketingCloudOrgID:"";this._ahPlugin=new q(new s(this));var b=new r(this._config.trackingServer,a);b.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,b.ovp=this._config.ovp?this._config.ovp:"",b.ssl=this._config.ssl,b.sdk=this._config.appVersion?this._config.appVersion:"";var d=this._primetimeTVSDKVersion();d&&d.length>0&&(b.__primetime=!0,b.__psdkVersion=d),this._ahPlugin.configure(b),this._plugins.push(this._ahPlugin)},e.prototype._configureVideoPlayerPlugin=function(){this._playerPlugin=new k(new m(this));var a=new l;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._playerPlugin.configure(a),this._plugins.push(this._playerPlugin)},e.prototype._configureOtherPlugins=function(){if(c.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo){this._nielsenPlugin=new c.plugins.nielsen.NielsenPlugin(new c._NielsenPluginDelegate(this,this._logger));var a=new c.plugins.nielsen.NielsenPluginConfig;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,a.appInfo=this._config.nielsenAppInfo,a.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(a),this._plugins.push(this._nielsenPlugin)}},e.prototype._configureHeartbeat=function(){var a=new i;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._heartbeat=new h(new j(this),this._plugins),this._heartbeat.configure(a)},e.prototype._resetState=function(){this._taskScheduler.clearTasks(),this._mediaState={},this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._heartbeat=null,this._currentMediaObject=null,this._currentAdBreakObject=null,this._currentAdObject=null,this._currentChapterObject=null,this._videoInfo=null,this._adBreakInfo=null,this._adInfo=null,this._chapterInfo=null,this._prerollWaitEnabled=!0,this._prerollWaitTime=N,this._playReceived=!1,this._playTaskHandle=null,this._playAfterAdStart=!1},e.prototype._primetimeTVSDKVersion=function(){return this._currentMediaObject?this._currentMediaObject.getValue(L):null},e.prototype._cleanContextData=function(a){if(null==a||"object"!=typeof a)return null;var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];"number"!=typeof d&&"string"!=typeof d&&"boolean"!=typeof d||(b[c]=d)}return b},e.prototype._prepareMetadata=function(a,b){var c={};if(b&&v.append(c,b),a){var d=this._cleanContextData(a);v.append(c,d)}return delete c[K],c},e.prototype._onDelegateError=function(a){this._logger.error(C,a.getMessage()+" | "+a.getDetails())},e.prototype._disableHBTracking=function(){var a=t.createContext();this._processRule(A.DisableTracking,a),this._processRule(A.SessionEnd,a)};var z={Session:0,Media:1,AdBreak:2,Ad:3,Chapter:4,PlayPause:5,Buffer:6,Seek:7,FPlayPause:8},A={SessionStart:0,SessionEnd:1,VideoComplete:2,Play:3,Pause:4,Error:5,AdBreakStart:6,AdBreakComplete:7,AdStart:8,AdComplete:9,AdSkip:10,ChapterStart:11,ChapterComplete:12,ChapterSkip:13,SeekStart:14,SeekComplete:15,BufferStart:16,BufferComplete:17,BitrateChange:18,TimedMetadataUpdate:19,DisableTracking:20},B={ErrUnSupportedPlatform:"MediaHeartbeat does not support tracking due to AppMeasurement or VisitorAPI not supporting the browser.",ErrNotInSession:'MediaHeartbeat is not in active tracking session, call "API:trackSessionStart" to begin a new tracking session.',ErrInSession:'MediaHeartbeat is in active tracking session, call "API:trackSessionEnd" to end current tracking session.',ErrTrackingDisabled:"MediaHeartbeat tracking is disabled for this publisher. Please contact Adobe Representative to enable tracking.",ErrNotInMedia:'MediaHeartbeat has completed tracking session, call "API:trackSessionEnd" first to end current session and then begin a new tracking session.',ErrInBuffer:'MediaHeartbeat is tracking buffer events, call "API:trackEvent(BufferComplete)" first to stop tracking buffer events.',ErrNotInBuffer:'MediaHeartbeat is not tracking buffer events, call "API:trackEvent(BufferStart)" before "API:trackEvent(BufferComplete)".',ErrInSeek:'MediaHeartbeat is tracking seek events, call "API:trackEvent(SeekComplete)" first to stop tracking seek events.',ErrNotInSeek:'MediaHeartbeat is not tracking seek events, call "API:trackEvent(SeekStart)" before "API:trackEvent(SeekComplete)".',ErrNotInAdBreak:'MediaHeartbeat is not tracking any AdBreak, call "API:trackEvent(AdBreakStart)" to begin tracking AdBreak',ErrNotInAd:'MediaHeartbeat is not tracking any Ad, call "API:trackEvent(AdStart)" to begin tracking Ad',ErrNotInChapter:'MediaHeartbeat is not tracking any Chapter, call "API:trackEvent(ChapterStart)" to begin tracking Chapter',ErrInvalidMediaObject:'MediaInfo passed into "API:trackSessionStart" is invalid.',ErrInvalidAdBreakObject:'AdBreakInfo passed into "API:trackEvent(AdBreakStart)" is invalid.',ErrDuplicateAdBreakObject:'MediaHeartbeat is currently tracking the AdBreak passed into "API:trackEvent(AdBreakStart)".',ErrInvalidAdObject:'AdInfo passed into "API:trackEvent(AdStart)" is invalid.',ErrDuplicateAdObject:'MediaHeartbeat is currently tracking the Ad passed into "API:trackEvent(AdStart)".',ErrInvalidChapterObject:'ChapterInfo passed into "API:trackEvent(ChapterStart)" is invalid.',ErrDuplicateChapterObject:'MediaHeartbeat is currently tracking the Chapter passed into "API:trackEvent(ChapterStart)".',ErrInvalidTimedMetadataObject:'TimedMetadata passed into "API:trackEvent(TimedMetadataUpdate)" is invalid.',ErrInvalidPlayerState:"MediaHeartbeat is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",ErrAudioTrackingNotSupported:"Upgrade your AppMeasurement library to version >= '2.11.0' to support tracking audio content."},C="MediaHeartbeat",D="key_media_object",E="key_adbreak_object",F="key_ad_object",G="key_chapter_object",H="key_timed_metadata_object",I="key_custom_metadata",J="key_error_id",K="a.media.streamType",L="a.__pttvsdkVersion",M="granular_ad_tracking",N=250;c._MediaHeartbeatErrorMessage=B,c.MediaHeartbeatDelegate=d,c.MediaHeartbeat=e,c.MediaHeartbeat._debugLogging=!1}(a.ADB.core,a.ADB.va),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=core),a.ADB.va||(a.ADB.va=va),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);

                      }).call(lib);
                      exports.va = lib.ADB.va;
                      exports.core = lib.ADB.core;
                    }));


                    /********INITIALISE HEARTBEAT*******/
                    window.MediaHeartbeat = ADB.va.MediaHeartbeat;
                    window.MediaHeartbeatConfig = ADB.va.MediaHeartbeatConfig;
                    window.MediaHeartbeatDelegate = ADB.va.MediaHeartbeatDelegate;

                    window.VideoAnalyticsProvider = function(video) {
                            if (!video) {
                                throw new Error("Illegal argument. Player reference cannot be null.")
                            }
                            this._player = video;
                     // Set-up the Visitor and AppMeasurement instances.
                            var visitor = Visitor.getInstance(Configuration.VISITOR.MARKETING_CLOUD_ORG_ID);
                            visitor.trackingServer = Configuration.VISITOR.TRACKING_SERVER;


                        // Set-up the AppMeasurement component.
                            var appMeasurement = new AppMeasurement(Configuration.APP_MEASUREMENT.RSID);
                            appMeasurement.visitor = visitor;
                            appMeasurement.trackingServer = Configuration.APP_MEASUREMENT.TRACKING_SERVER;
                            appMeasurement.pageName = Configuration.APP_MEASUREMENT.PAGE_NAME;
                            appMeasurement.charSet = "UTF-8";
                        //    appMeasurement.visitorID = "test-vid";

                            //Media Heartbeat initialization
                            var mediaConfig = new MediaHeartbeatConfig();
                            mediaConfig.trackingServer = Configuration.HEARTBEAT.TRACKING_SERVER;
                            mediaConfig.playerName = Configuration.PLAYER.NAME;
                            mediaConfig.channel = Configuration.HEARTBEAT.CHANNEL;
                            mediaConfig.debugLogging = true;
                            mediaConfig.appVersion = Configuration.HEARTBEAT.SDK;
                            mediaConfig.ssl = true;
                            mediaConfig.ovp = Configuration.HEARTBEAT.OVP;

                            function SampleMediaHeartbeatDelegate(video) {
                                this._player = video;
                            }

                            SampleMediaHeartbeatDelegate.prototype.getCurrentPlaybackTime = function() {
                                if(typeof this._player.currentTime !== "undefined") {
                                    return this._player.currentTime;
                                } else if(typeof player.getCurrentTime !== "undefined") {
                                    return player.getCurrentTime();
                                }

                            };

                            SampleMediaHeartbeatDelegate.prototype.getQoSObject = function() {
                            this._qosInfo = MediaHeartbeat.createQoSObject(50000, 0, 24, 10)
                                return this._qosInfo;
                            };

                            this._mediaHeartbeat = new MediaHeartbeat(new SampleMediaHeartbeatDelegate(this._player), mediaConfig, appMeasurement);
                        }
                    });</script><!-- Hotjar Tracking Code for Global NN COM (excluding /careers) -->
                    <script>
                        (function(h,o,t,j,a,r){
                            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                            h._hjSettings={hjid:3761319,hjsv:6};
                            a=o.getElementsByTagName('head')[0];
                            r=o.createElement('script');r.async=1;
                            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                            a.appendChild(r);
                        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
                    </script><script type="application/javascript">(function(w,d,t,r,u){w[u]=w[u]||[];w[u].push({'projectId':'10000','properties':{'pixelId':'10109856'}});var s=d.createElement(t);s.src=r;s.async=true;s.onload=s.onreadystatechange=function(){var y,rs=this.readyState,c=w[u];if(rs&&rs!="complete"&&rs!="loaded"){return}try{y=YAHOO.ywa.I13N.fireBeacon;w[u]=[];w[u].push=function(p){y([p])};y(c)}catch(e){}};var scr=d.getElementsByTagName(t)[0],par=scr.parentNode;par.insertBefore(s,scr)})(window,document,"script","https://s.yimg.com/wi/ytc.js","dotq");</script><script>_satellite["_runScript3"](function(event, target, Promise) {
                    function setMileStones(e){mileStones[e]=[10,25,50,75,90]}if(jQuery('iframe[src*="youtube.com"]').length>0){var id,i=0;window.iframe_id=[],jQuery('iframe[src*="youtube.com"]').each((function(){jQuery(this).attr("id")?(id=jQuery(this).attr("id"),window.iframe_id.push(id)):(id="tealium_youtube"+i,jQuery(this).attr("id",id),window.iframe_id.push(id),i++)}))}var mileStones=[];if(window.iframe_id)for(i=0;i<window.iframe_id.length;i++)setMileStones(i);var ytapi=document.createElement("script");ytapi.src="https://www.youtube.com/iframe_api";var playerCheckInterval,event,scriptref=document.getElementsByTagName("script")[0];scriptref.parentNode.insertBefore(ytapi,scriptref),window.players=[],window.onYouTubeIframeAPIReady=function(){jQuery('iframe[src*="youtube.com"]').each((function(){var e=jQuery(this).attr("id");window.players[e]=new YT.Player(e,{events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}))},window.start=[],window.onPlayerReady=function(e){for(i=0;i<window.iframe_id.length;i++)window.iframe_id[i]===e.target.getIframe().id&&i,window.start.push(!0);if(e.target.getPlayerState()===YT.PlayerState.CUED)e.target.getVideoData()},window.onPlayerStateChange=function(e){function t(){var e;for(i=0;i<window.iframe_id.length;i++)window.iframe_id[i]===player.getIframe().id&&(e=i);var t=Math.round(player.getDuration()),a=parseInt(player.getCurrentTime())/t*100;if(mileStones[e].length>0&&mileStones[e][0]<=a){mileStones[e].shift(),console.log("Video event: video_milestone, video ID: "+window.iframe_id[e]+", Milestone="+a.toFixed());player.getVideoData()}}var a;for(player=e.target,i=0;i<window.iframe_id.length;i++)window.iframe_id[i]===e.target.getIframe().id&&(a=i);if(tealium_event="",e.data==YT.PlayerState.PLAYING?(start[a]?(mileStones[a].length>0&&(playerCheckInterval=setInterval(t,50)),tealium_event="video_start",0):(tealium_event="video_play",player.getCurrentTime()),start[a]=!1):e.data==YT.PlayerState.PAUSED?(tealium_event="video_pause",player.getCurrentTime()):e.data==YT.PlayerState.ENDED&&(mileStones[a].length>0&&(clearInterval(playerCheckInterval),playerCheckInterval=0,setMileStones(a)),tealium_event="video_complete",Math.round(player.getDuration())),tealium_event){console.log("Video event: "+tealium_event+", video ID: "+window.iframe_id[a]);var r=player.getVideoData();r.video_length=Math.round(player.getDuration()),r.video_platform="YouTube";var o=MediaHeartbeat.createMediaObject(r.title,r.video_id,r.video_length,"youtube",MediaHeartbeat.MediaType.Video);if(void 0===window.videoLoaded||""===window.videoLoaded){VideoAnalyticsProvider(r),breadcrumbs=_satellite.getVar("Breadcrumbs");var n={siteType:"undefined"!=typeof digitalData&&void 0!==digitalData[0].data.pageInfo&&"undefined"!=typeof breadcrumbs?breadcrumbs.replace(/\s/g,"").split(">")[0].toLowerCase():"not available",heartbeaturl:document.location.href.replace(/(bmi|kg|cm|&bmi|&kg|&cm)=[^&]*/g,"").replace(/\?\&/g,"?")};_mediaHeartbeat.trackSessionStart(o,n),window.videoLoaded="true"}"video_play"===tealium_event?(window.video=r,_mediaHeartbeat.trackPlay()):"video_pause"===tealium_event&&_mediaHeartbeat.trackPause()}};
                    });</script><div id="onetrust-consent-sdk"><div class="onetrust-pc-dark-filter ot-hide ot-fade-in"></div><div id="onetrust-pc-sdk" class="otPcCenter ot-hide ot-fade-in" aria-modal="true" role="alertdialog" lang="en" aria-label="We value your privacy"><!-- Close Button --><div class="ot-pc-header"><!-- Logo Tag --><div class="ot-pc-logo" role="img" aria-label="Company Logo" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/e1c3118f-53de-4b57-8767-296901f63b5b/69209f7a-31fd-4f5c-a725-1497f60c3ff3/d55cb7c5-6131-40cf-b36c-8db28521577e/true-blue-logo-600px.image.68.0.png&quot;);
                                        background-position: left;"></div></div><!-- Close Button --><div id="ot-pc-content" class="ot-pc-scrollbar"><h2 id="ot-pc-title">We value your privacy</h2><div id="ot-pc-desc"><p style="margin-bottom: 15px;">We use our own cookies as well as cookies from third parties. Cookies and the related processing of your personal data are used to remember your settings, traffic metrics, to present you with targeted adverts, and to track your use of our website. You can withdraw or change your consent by clicking on the cookie settings link at the bottom of this website. Your consent covers the use of cookies and the related processing of your personal data. Here you may read more on our <a style="margin-left: 0px;color: #3860BE;" href="https://www.novonordisk.com/data-privacy-and-user-rights/privacy-policy.html">Privacy policy</a> Here you may read more on our <a style="margin-left: 0px;color: #3860BE;" href="https://www.novonordisk.com/data-privacy-and-user-rights/cookie-policy.html">cookie policy</a></p>
                    <p style="margin-bottom: 15px;"><a style="margin-left: 5px; color: #3860BE;" href="https://www.novonordisk.com/data-privacy-and-user-rights/cookie-list.html">Show details</a></p></div><button id="accept-recommended-btn-handler">Accept all cookies</button><button class="save-preference-btn-handler onetrust-close-btn-handler" style="display: block;">Accept selected cookies</button><section class="ot-sdk-row ot-cat-grp"><h3 id="ot-category-title"> </h3><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="C0001"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0001" aria-labelledby="ot-header-id-C0001"></button><!-- Accordion header --><div class="ot-acc-hdr ot-always-active-group"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0001">Strictly necessary</h4><div class="ot-always-active">Always Active</div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0001">These cookies are necessary for the website to function and cannot be switched off in our systems. They are usually only set in response to actions made by you which amount to a request for services, such as setting your privacy preferences, logging in or filling in forms. You can set your browser to block or alert you about these cookies, but some parts of the site will not then work. These cookies do not store any personally identifiable information.</p><div class="ot-subgrp-cntr"><ul class="ot-subgrps"><li class="ot-subgrp" data-optanongroupid="C0003"><h5>Functional</h5><div class="ot-tgl-cntr ot-subgrp-tgl ot-always-active-subgroup"><div class="ot-always-active">Always Active</div></div><p class="ot-subgrp-desc">These cookies enable the website to provide enhanced functionality and personalisation. They may be set by us or by third party providers whose services we have added to our pages. If you do not allow these cookies then some or all of these services may not function properly.</p></li></ul></div></div></div><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="C0002"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0002" aria-labelledby="ot-header-id-C0002"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0002">Analytics</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-C0002" id="ot-group-id-C0002" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="C0002" checked="" aria-labelledby="ot-header-id-C0002"> <label class="ot-switch" for="ot-group-id-C0002"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Analytics</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0002">These cookies allow us to count visits and traffic sources so we can measure and improve the performance of our site. They help us to know which pages are the most and least popular and see how visitors move around the site. All information these cookies collect is aggregated and therefore anonymous. If you do not allow these cookies we will not know when you have visited our site, and will not be able to monitor its performance.</p></div></div><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="C0004"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0004" aria-labelledby="ot-header-id-C0004"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0004">Targeting</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-C0004" id="ot-group-id-C0004" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="C0004" checked="" aria-labelledby="ot-header-id-C0004"> <label class="ot-switch" for="ot-group-id-C0004"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Targeting</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0004">These cookies may be set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant adverts on other sites. They do not store directly personal information, but are based on uniquely identifying your browser and internet device. If you do not allow these cookies, you will experience less targeted advertising.</p></div></div><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="U0001"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-U0001" aria-labelledby="ot-header-id-U0001"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-U0001">Others</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-U0001" id="ot-group-id-U0001" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="U0001" checked="" aria-labelledby="ot-header-id-U0001"> <label class="ot-switch" for="ot-group-id-U0001"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Others</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-U0001">Unknown Category.</p></div></div><!-- Groups sections starts --><!-- Group section ends --><!-- Accordion Group section starts --><!-- Accordion Group section ends --></section></div><section id="ot-pc-lst" class="ot-hide ot-hosts-ui ot-pc-scrollbar"><div id="ot-pc-hdr"><div id="ot-lst-title"><button class="ot-link-btn back-btn-handler" aria-label="Back"><svg id="ot-back-arw" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 444.531 444.531" xml:space="preserve"><title>Back Button</title><g><path fill="#656565" d="M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835
                                        l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425
                                        c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564
                                        s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978
                                        L213.13,222.409z"></path></g></svg></button> <span>Performance Cookies</span></div><div class="ot-lst-subhdr"><div class="ot-search-cntr"><p role="status" class="ot-scrn-rdr"></p><label for="vendor-search-handler" class="ot-scrn-rdr">Vendor Search</label> <input id="vendor-search-handler" type="text" placeholder="Search..." name="vendor-search-handler"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 -30 110 110" aria-hidden="true"><title>Search Icon</title><path fill="#2e3644" d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
                                s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
                                c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
                                s-17-7.626-17-17S14.61,6,23.984,6z"></path></svg></div><div class="ot-fltr-cntr"><button id="filter-btn-handler" aria-label="Filter" aria-haspopup="true"><svg role="presentation" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 402.577 402.577" xml:space="preserve"><title>Filter Icon</title><g><path fill="#fff" d="M400.858,11.427c-3.241-7.421-8.85-11.132-16.854-11.136H18.564c-7.993,0-13.61,3.715-16.846,11.136
                          c-3.234,7.801-1.903,14.467,3.999,19.985l140.757,140.753v138.755c0,4.955,1.809,9.232,5.424,12.854l73.085,73.083
                          c3.429,3.614,7.71,5.428,12.851,5.428c2.282,0,4.66-0.479,7.135-1.43c7.426-3.238,11.14-8.851,11.14-16.845V172.166L396.861,31.413
                          C402.765,25.895,404.093,19.231,400.858,11.427z"></path></g></svg></button></div><div id="ot-anchor"></div><section id="ot-fltr-modal"><div id="ot-fltr-cnt"><button id="clear-filters-handler">Clear</button><div class="ot-fltr-scrlcnt ot-pc-scrollbar"><div class="ot-fltr-opts"><div class="ot-fltr-opt"><div class="ot-chkbox"><input id="chkbox-id" type="checkbox" aria-checked="false" class="category-filter-handler"> <label for="chkbox-id"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div><div class="ot-fltr-btns"><button id="filter-apply-handler">Apply</button> <button id="filter-cancel-handler">Cancel</button></div></div></div></section></div></div><section id="ot-lst-cnt" class="ot-host-cnt ot-pc-scrollbar"><div id="ot-sel-blk"><div class="ot-sel-all"><div class="ot-sel-all-hdr"><span class="ot-consent-hdr">Consent</span> <span class="ot-li-hdr">Leg.Interest</span></div><div class="ot-sel-all-chkbox"><div class="ot-chkbox" id="ot-selall-hostcntr"><input id="select-all-hosts-groups-handler" type="checkbox" aria-checked="false"> <label for="select-all-hosts-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-vencntr"><input id="select-all-vendor-groups-handler" type="checkbox" aria-checked="false"> <label for="select-all-vendor-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-licntr"><input id="select-all-vendor-leg-handler" type="checkbox" aria-checked="false"> <label for="select-all-vendor-leg-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div></div><div class="ot-sdk-row"><div class="ot-sdk-column"></div></div></section></section><div class="ot-pc-footer"><div class="ot-btn-container"><button class="ot-pc-refuse-all-handler">Only necessary cookies</button> </div><!-- Footer logo --><div class="ot-pc-footer-logo"><a href="https://www.onetrust.com/products/cookie-consent/" target="_blank" rel="noopener noreferrer" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/static/powered_by_logo.svg&quot;);" aria-label="Powered by OneTrust Opens in a new Tab"></a></div></div><!-- Cookie subgroup container --><!-- Vendor list link --><!-- Cookie lost link --><!-- Toggle HTML element --><!-- Checkbox HTML --><!-- plus minus--><!-- Arrow SVG element --><!-- Accordion basic element --><span class="ot-scrn-rdr" aria-atomic="true" aria-live="polite"></span><iframe class="ot-text-resize" title="onetrust-text-resize" style="position: absolute; top: -50000px; width: 100em;" aria-hidden="true"></iframe></div></div><iframe id="_hjSafeContext_68520160" title="_hjSafeContext" tabindex="-1" aria-hidden="true" src="about:blank" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe><script>
                    var maxTime=1e4,time=0,iframeList=document.querySelectorAll("iframe");for(let e=0;e<iframeList.length;e++)iframeList[e].src.indexOf("nn-product")>-1&&-1==iframeList[e].src.indexOf("https:")&&(iframeList[e].src="https:"+iframeList[e].src);var interval=setInterval((function(){if(jQuery("iframe").length>0){!function(e,t){var n="nn-product.videomarketingplatform.co",a=t.twentyThreeSourceMatch||/\/[^/]+\.ihtml\/player\.html/,o=t.twentyThreePercentileGranularity||25,r=t.twentyThreeEngagementGranularity||10,d=[],l=t.twentyThreeLimitEvents||[],c=t.twentyThreeCustomVideoFields||[],v="boolean"!=typeof t.twentyThreeFireSpecialFirstEvents||t.twentyThreeFireSpecialFirstEvents,u=t.gtmTwentyThreeVideos,m="unknown";d.videos=u;var s=function(e,t,i){var n=0;try{t=new Number(t)-1;n=Math.floor(100/i*e/t)*i}catch(e){}return isNaN(n)?0:n},g=function(e){var t=0;try{t=Math.floor(e/(1*r))*r}catch(e){}return isNaN(t)?0:t},y=function(e,t){var n=!1,a={trackingContext:m},r={photo_id:"video_photo_id",live_id:"video_live_id",full_video:"video",title:"video_title",content:"video_content",type:"video_type",currentTime:"currentTime",duration:"duration",link:"url",domain:"domain",player_id:"player_id",quality:"quality",playing:"playing",currentVideoEngagement:"currentVideoEngagement",totalEngagement:"totalEngagement"};for(key in r)!function(d){e.get(r[d],(function(e){if("type"==d)a.type="stream"==e?"live":"ondemand";else if("full_video"==d){if(e)for(i in a.tags=e.tags,a.category=e.album_title,c)customKey=c[i],a[customKey]=void 0!==e[customKey]?e[customKey]:""}else a[d]=e;for(x in r[d]=null,r){if(n||null!=r[x])break;a.id=a.live_id||a.photo_id,a.percentile=s(a.currentTime,a.duration,o),a.currentVideoEngagement=g(a.currentVideoEngagement),a.totalEngagement=g(a.totalEngagement),t(a),n=!0}}))}(key)},p={},f=function(e){if(!(l.length>0&&l.indexOf(e.event)<0)){d.push(e);var t=v&&!p[e.event];if(p[e.event]=!0,t){var i=e;i.event+=":first",d.push(i)}}},w=function(t){var n=t||window.GlueFrame;if("function"==typeof n){var o=e.getElementsByTagName("iframe");for(i in o)if(o[i]&&o[i].src&&a.test(o[i].src)&&"yes"!=o[i].getAttribute("data-twentythree-gtm")){var r=new n(o[i],"Player");h(r),o[i].setAttribute("data-twentythree-gtm","yes")}}else console.log("GTM: TwentyThree GlueFrame was not loaded correctly")};t.twentyThreeUpdateGTMPlayers=w;var h=function(e){var t=e,i=!1;y(t,(function(e){f({event:"video:change",video:e}),f({event:"video:metadatachange",video:e}),t.bind("player:video:loaded",(function(){y(t,(function(t){e.id!=t.id&&f({event:"video:change",video:t}),i=!1,f({event:"video:metadatachange",video:e=t})}))})),t.bind("player:video:qualitychange player:video:sourcechange",(function(){t.get("quality",(function(t){e.quality=t,f({event:"video:qualitychange",video:e})}))})),t.bind("player:video:timeupdate",(function(){t.get("currentTime",(function(t){e.currentTime=t;var i=s(e.currentTime,e.duration,o),n=!1;e.percentile!=i&&(e.percentile=i,n=!0),f({event:"video:timeupdate",video:e}),n&&f({event:"video:percentileupdate",video:e})}))})),t.bind("player:engagementupdate",(function(i,n){t.get("currentVideoEngagement",(function(t){(t=g(t))>0&&e.currentVideoEngagement!=t&&(e.currentVideoEngagement=t,f({event:"video:videoengagementupdate",video:e})),(n=g(n))>0&&e.totalEngagement!=n&&(e.totalEngagement=n,f({event:"video:totalengagementupdate",video:e}))}))})),t.bind("player:video:ended",(function(){e.playing=!1,100!=e.percentile&&(e.percentile=100,f({event:"video:percentileupdate",video:e})),f({event:"video:complete",video:e}),_mediaHeartbeat.trackComplete(),_mediaHeartbeat.trackSessionEnd(),window.videoLoaded=""})),t.bind("player:video:play player:video:pause player:video:playing",(function(n){var a="player:video:pause"==n?"video:pause":"video:play";t.get("playing",(function(t){if(e.playing=t,t&&!i&&(f({event:"video:playstart",video:e}),i=!0,("novonordisk.de"==document.domain||"author.extweb.novonordisk.com"==document.domain)&&location.pathname.indexOf("/disease-areas/smartpens")>-1&&fbq("trackSingle","573934004425436","ViewContent")),f({event:a,video:e}),"video:play"===a){void 0!==window.video&&void 0!==window.video.id&&window.video.id!==e.id&&(e.newVideo=!0),window.video=e;var n=MediaHeartbeat.createMediaObject(e.title,""===e.id?"unknown":e.id,parseInt(e.duration),e.type,MediaHeartbeat.MediaType.Video);if(void 0===window.videoLoaded||""===window.videoLoaded||!0===e.newVideo){!0===e.newVideo&&(_mediaHeartbeat.trackSessionEnd(),e.newVideo=!1),VideoAnalyticsProvider(e),breadcrumbs=_satellite.getVar("Breadcrumbs");var o={pageName:_satellite.getVar("Page Name")||"",siteType:"undefined"!=typeof digitalData&&void 0!==digitalData[0].data.pageInfo&&"undefined"!=typeof breadcrumbs?breadcrumbs.replace(/\s/g,"").split(">")[0].toLowerCase():"not available",heartbeaturl:document.location.href};_mediaHeartbeat.trackSessionStart(n,o),window.videoLoaded="true"}window.video=e,_mediaHeartbeat.trackPlay()}else _mediaHeartbeat.trackPause()}))})),t.bind("player:tracking:data",(function(e,t){if("corepeople"==t.source){var i=t;i.event="video:collectordata",f(i)}}))}))};if("undefined"!=typeof Player&&Player&&void 0!==Player.alias&&"player"==Player.alias){m="player";h({get:function(e,t){t(Player.get(e))},bind:Player.bind})}else{m="web";t.onGlueFrameAvailable=function(e){w(e)},function(t,i){var n=e.createElement("script");n.async=i?1:0,n.src=t;var a=e.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a)}("//"+n+"/resources/um/integrations/google-tag-manager/glueframe-1.1.3.js",!1)}}(document,window),gtmTwentyThreeLoaded=!0,clearInterval(interval)}else{if(time>maxTime)return void clearInterval(interval);time+=100}}),200);
                    </script><script>_satellite["_runScript4"](function(event, target, Promise) {
                    _linkedin_data_partner_id="112683",function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)}();
                    });</script><script>_satellite["_runScript5"](function(event, target, Promise) {
                    !function(e,t,n,i,a,c){e.twq||(i=e.twq=function(){i.exe?i.exe.apply(i,arguments):i.queue.push(arguments)},i.version="1.1",i.queue=[],(a=t.createElement(n)).async=!0,a.src="//static.ads-twitter.com/uwt.js",(c=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,c))}(window,document,"script"),twq("init","nyyl1"),twq("track","PageView");
                    });</script><script>_satellite["_runScript6"](function(event, target, Promise) {
                    var sdk=ADB.va.Version.getVersion(),videoPlatform="undefined"==typeof iframe_id?"23video":"youtube",rsid="production"===_satellite.buildInfo.environment?"novotrueblueprod":"novotruebluedev";window.Configuration={PLAYER:{NAME:videoPlatform,VIDEO_ID:"placeholder-id",VIDEO_NAME:"placeholder-name"},VISITOR:{MARKETING_CLOUD_ORG_ID:"95DB1CFE53295C680A490D45@AdobeOrg",TRACKING_SERVER:"novonordiskas.d1.sc.omtrdc.net",DPID:"sample-dpid",DPUUID:"sample-dpuuid"},APP_MEASUREMENT:{RSID:rsid,TRACKING_SERVER:"novonordiskas.d1.sc.omtrdc.net",PAGE_NAME:"undefined"!=typeof digitalData&&void 0!==_satellite.getVar("Page Name")?_satellite.getVar("Page Name").toString().replace(", ",">"):"not defined"},HEARTBEAT:{TRACKING_SERVER:"https://novopepengagementprod.hb.omtrdc.net",PUBLISHER:"95DB1CFE53295C680A490D45@AdobeOrg",CHANNEL:"",OVP:videoPlatform,SDK:sdk}};
                    });</script><!-- BOWEN CRAGGS SURVEY WIDGET -->
                    <script src="https://app.bowencraggs.com/scripts/e7fe5e7c-b425-4e2e-868e-4eb49f377e80.js"></script>
                    <!-- END OF BOWEN CRAGGS SURVEY WIDGET --><script>
                    !function(e,n,t,o,c,f,a){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],(f=n.createElement(t)).async=!0,f.src=o,(a=n.getElementsByTagName(t)[0]).parentNode.insertBefore(f,a))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js"),fbq("init","498810193072169"),fbq("track","PageView"),window.fbq=fbq;
                    </script><script>
                    !function(e,n,t,o,c,f,a){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],(f=n.createElement(t)).async=!0,f.src=o,(a=n.getElementsByTagName(t)[0]).parentNode.insertBefore(f,a))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js"),fbq("init","117159282237256"),fbq("track","PageView"),window.fbq=fbq;
                    </script><img class="optanon-category-C0004 ywa-10000" src="https://sp.analytics.yahoo.com/sp.pl?a=10000&amp;d=Sat%2C%2001%20Nov%202025%2010%3A09%3A25%20GMT&amp;n=-5&amp;b=Novo%20Nordisk&amp;.yp=10109856&amp;f=https%3A%2F%2Fwww.novonordisk.com%2F&amp;enc=UTF-8&amp;yv=1.16.6&amp;tagmgr=adobe" alt="dot image pixel" style="display: none;"></body>`;


export default function decorate(block) {
  document.body.innerHTML = novContent;

  // List all your CSS file URLs here
    const cssFiles = [
      'https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/clientlib-grid.lc-c4940434fd7690370948a7d29be572da-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/disclaimer-dialog.lc-07b3000f457539f34b633cd04cab0538-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/confirm-dialog.lc-bc6612f2f26b65d1e2a6f3c937c479f5-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/rnd-dialog.lc-b9c615e8e75f11e90f9a8d265e2b7ac8-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/clientlib-base.lc-6662ea61ebb65da71188bddcadfa89e8-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/clientlib-resetcss.lc-c90e656c13a46b547a893dde0aefb9db-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/components/structure/navigation/clientlib.lc-f046a893b816f49de05849c84a640e22-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/megatext.lc-410d76635443db78280c9201a3dfaa3a-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/gradient-cover.lc-094b79e9edffe365bac8fe5c6a5249a6-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/clientlibs/vuejs/components/focuspoint-image.lc-6068dc105c5d342989cce8b2547f55f4-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/herodeck/v2/herodeck/clientlib/clientlib-herodeck.lc-b0ee3d6796724965856ff41e0ab265cd-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/calltoaction/clientlibs.lc-ebe7c7e29fe7c41f69d1f2aa03d28ccf-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/latestnews/clientlibs.lc-b33d327a2948ff8f3c0b122c91bea4d3-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/stockprice/clientlib.lc-7655139b688085a27b8592eee4976b24-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/layoutcontainergrid/clientlibs.lc-8e68a20a5b5ff888db6d5b26377b9644-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/image-video/clientlibs.lc-d6f3af1e3efca5e63b4d0dbb00c396bd-lc.min.css',
      'https://www.novonordisk.com/etc.clientlibs/nncorp/components/content/promomatsid/clientlibs.lc-34a10aaa449ba556731680b8c9938d00-lc.min.css',
    ];

    // Load each CSS file once
    cssFiles.forEach((url) => {
      if (!document.querySelector(`link[href="${url}"]`)) {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = url;
        document.head.appendChild(link);
      }
    });

  // Wait a tick to ensure DOM updates are applied
    requestAnimationFrame(() => {
      const headerDiv = document.querySelector('.header.block[data-block-name="header"]');
      if (headerDiv) {
        headerDiv.style.display = 'none';
      }
    });
}